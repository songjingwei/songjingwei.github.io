import{j as a,r,a as s}from"./index-CybXJaB_.js";const b=()=>a.jsx("div",{className:"w-full h-full",children:a.jsx("div",{className:"w-full h-full rounded-2xl animate-pulse",style:{backgroundColor:"#313f4a"}})}),_=({className:t,style:c,onLoad:n,onError:d,progressive:w=!1,src:x,...f})=>{const e=x,v=l=>{if(!l)return!1;const u=new Image;return u.src=l,u.complete&&u.naturalWidth>0},[o,h]=r.useState(()=>v(e)),[i,y]=r.useState(!1),[j,L]=r.useState(!1),m=r.useMemo(()=>{if(e)return e.includes("?")?e.includes("image_process")?`${e}/quality,q_5`:`${e}&image_process=quality,q_5`:`${e}?image_process=quality,q_5`},[e]),S=()=>{L(!0)},g=l=>{h(!0),y(!1),n==null||n(l)},p=l=>{h(!1),y(!0),d==null||d(l)};return w?a.jsxs("div",{className:s("relative overflow-hidden w-full h-full",t),style:c,children:[m&&!o&&!i&&a.jsx("img",{src:m,alt:"",draggable:"false",loading:"lazy",className:s("w-full h-full absolute inset-0 transition-opacity duration-300",j?"opacity-100":"opacity-0"),onLoad:S}),a.jsx("img",{src:e,alt:"",draggable:"false",loading:"lazy",...f,style:void 0,className:s("w-full h-full transition-opacity duration-300",t,o&&!i?"opacity-100":"opacity-0"),onLoad:g,onError:p})]}):a.jsxs("div",{className:s("relative overflow-hidden w-full h-full",t),style:c,children:[(!o||i)&&a.jsx("div",{className:"absolute inset-0 w-full h-full rounded-none overflow-hidden z-10",children:a.jsx(b,{})}),a.jsx("img",{alt:"",draggable:"false",loading:"lazy",...f,style:void 0,className:s("w-full h-full transition-opacity duration-300",t,o&&!i?"opacity-100":"opacity-0"),src:e,onLoad:g,onError:p})]})};export{_ as S};
