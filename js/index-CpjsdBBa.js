import{b as _,r as a,j as s,ai as h,aj as p}from"./index-CybXJaB_.js";const x="_container_10kb0_1",m="_header_10kb0_18",g="_title_10kb0_26",u="_content_10kb0_36",w="_feedbackList_10kb0_43",j="_feedbackItem_10kb0_49",v="_feedbackRow_10kb0_64",C="_statusTag_10kb0_71",R="_statusReplied_10kb0_87",L="_statusUnreplied_10kb0_92",N="_feedbackTime_10kb0_97",y="_arrowIcon_10kb0_110",T="_feedbackContentRow_10kb0_119",F="_feedbackContent_10kb0_119",t={container:x,header:m,title:g,content:u,feedbackList:w,feedbackItem:j,feedbackRow:v,statusTag:C,statusReplied:R,statusUnreplied:L,feedbackTime:N,arrowIcon:y,feedbackContentRow:T,feedbackContent:F},E=()=>{const n=_(),[o,l]=a.useState([]),[b,d]=a.useState(!0),[i,c]=a.useState(""),k=async()=>{try{d(!0),c(""),console.log("手机端: 获取反馈列表");const e=await h();if(console.log("手机端: 反馈列表响应:",e),e.code===200){const r=e.data.list.map(p);l(r),console.log("手机端: 反馈列表转换完成:",r)}else c("获取反馈列表失败")}catch(e){console.error("手机端: 获取反馈列表失败:",e),c("获取反馈列表失败")}finally{d(!1)}};a.useEffect(()=>{const e=()=>{window.innerWidth>1e3&&n("/")};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),a.useEffect(()=>{k()},[]);const f=e=>{n(`/mobile-settings/help/my-feedback/${e}`)};return s.jsxs("div",{className:t.container,children:[s.jsx("div",{className:t.header,children:s.jsx("span",{className:t.title,children:"我的反馈"})}),s.jsx("div",{className:t.content,children:b?s.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"加载中..."}):i?s.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#ff4757"},children:i}):o.length===0?s.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"暂无反馈记录"}):s.jsx("div",{className:t.feedbackList,children:o.map(e=>s.jsxs("div",{className:t.feedbackItem,onClick:()=>f(e.id),children:[s.jsxs("div",{className:t.feedbackRow,children:[s.jsx("span",{className:`${t.statusTag} ${e.replied?t.statusReplied:t.statusUnreplied}`,children:e.status}),s.jsxs("span",{className:t.feedbackTime,children:["反馈时间:",e.date]})]}),s.jsx("div",{className:t.feedbackContentRow,children:s.jsx("span",{className:t.feedbackContent,children:e.content})}),s.jsx("svg",{className:t.arrowIcon,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:s.jsx("path",{d:"M6.1387 2.86225C5.87835 2.60191 5.45569 2.60191 5.19534 2.86225C4.93542 3.12258 4.93528 3.54439 5.19534 3.80464L9.39067 7.99995L5.19534 12.1953C4.93531 12.4555 4.93538 12.8774 5.19534 13.1376C5.45569 13.398 5.87835 13.398 6.1387 13.1376L10.8047 8.47163C11.0651 8.21128 11.0651 7.78862 10.8047 7.52827L6.1387 2.86225Z",fill:"#BAD7F5"})})]},e.id))})})]})};export{E as default};
