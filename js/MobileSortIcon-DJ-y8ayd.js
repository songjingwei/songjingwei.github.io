import{j as e,r as x,h as w}from"./index-CybXJaB_.js";import{C as m}from"./ContainerSkeleton-B-oo09NS.js";const F="_filterBar_qjb6l_68",S="_sortButtonsContainer_qjb6l_86",k="_filterButton_qjb6l_92",M="_active_qjb6l_139",A="_filterButtonSpecial_qjb6l_163",j={filterBar:F,sortButtonsContainer:S,filterButton:k,active:M,filterButtonSpecial:A},y=({children:l,active:s,onClick:n,className:a,width:o})=>e.jsx("button",{className:j.filterButton+(s?" "+j.active:"")+(a?" "+a:""),onClick:n,type:"button",style:o?{width:o,minWidth:o}:void 0,children:l}),H=({className:l,style:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:l,style:s,children:[e.jsx("path",{d:"M12 6.66699C12.3681 6.667 12.6668 6.96497 12.667 7.33301V11.0566L13.5283 10.1953C13.7887 9.93496 14.2113 9.93496 14.4717 10.1953C14.7317 10.4556 14.7316 10.8774 14.4717 11.1377L12.4717 13.1377C12.4406 13.1688 12.4059 13.1962 12.3691 13.2207C12.3579 13.2282 12.3455 13.2335 12.334 13.2402C12.3074 13.2558 12.2808 13.2714 12.252 13.2832C12.2364 13.2895 12.22 13.2927 12.2041 13.2979C12.1806 13.3055 12.1574 13.3144 12.1328 13.3193C12.0448 13.3372 11.9542 13.3373 11.8662 13.3193C11.8416 13.3143 11.8184 13.3055 11.7949 13.2979C11.7791 13.2927 11.7626 13.2896 11.7471 13.2832C11.7183 13.2714 11.6916 13.2558 11.665 13.2402C11.6535 13.2335 11.6411 13.2282 11.6299 13.2207C11.5934 13.1963 11.5592 13.1687 11.5283 13.1377L9.52832 11.1377C9.26834 10.8774 9.26823 10.4556 9.52832 10.1953C9.78867 9.93496 10.2113 9.93496 10.4717 10.1953L11.333 11.0566V7.33301C11.3332 6.96496 11.6319 6.66699 12 6.66699Z",fill:"#BAD7F5"}),e.jsx("path",{d:"M6.66699 10.667C7.03492 10.6672 7.33284 10.9651 7.33301 11.333C7.33301 11.7011 7.03503 11.9998 6.66699 12H2.66699C2.2988 12 2 11.7012 2 11.333C2.00017 10.965 2.29891 10.667 2.66699 10.667H6.66699Z",fill:"#BAD7F5"}),e.jsx("path",{d:"M8.66699 7.33301C9.03504 7.33318 9.333 7.63192 9.33301 8C9.33301 8.36808 9.03504 8.66682 8.66699 8.66699H2.66699C2.2988 8.66699 2 8.36819 2 8C2.00001 7.63181 2.29881 7.33301 2.66699 7.33301H8.66699Z",fill:"#BAD7F5"}),e.jsx("path",{d:"M10.667 4C11.035 4.00018 11.333 4.29891 11.333 4.66699C11.3328 5.03492 11.0349 5.33283 10.667 5.33301H2.66699C2.29891 5.33301 2.00018 5.03503 2 4.66699C2 4.2988 2.2988 4 2.66699 4H10.667Z",fill:"#BAD7F5"})]}),T="_filterPanel_nqnb4_2",Z="_section_nqnb4_42",O="_sectionHeader_nqnb4_46",V="_resetLink_nqnb4_53",I="_sectionTitle_nqnb4_71",D="_tagGroup_nqnb4_78",q="_tag_nqnb4_78",E="_active_nqnb4_124",G="_loading_nqnb4_139",d={filterPanel:T,section:Z,sectionHeader:O,resetLink:V,sectionTitle:I,tagGroup:D,tag:q,active:E,loading:G},N=({isVisible:l,filters:s,onFilterChange:n,onClose:a})=>{const[o,p]=x.useState([]),[c,f]=x.useState(!0);x.useEffect(()=>{(async()=>{try{f(!0);const t=(await w()).data;t&&t.code===200&&t.data?p(t.data):Array.isArray(t)&&p(t)}catch(r){console.error("获取筛选标签失败:",r)}finally{f(!1)}})()},[]);const _=i=>{i.target===i.currentTarget&&a()};if(!l)return null;const L=(i,r)=>{const t=s[i]||[],u=t.includes(r)?t.filter(B=>B!==r):[...t,r],g={...s,[i]:u};n(g)},C=()=>{n({})};return e.jsx("div",{className:d.filterPanel,onClick:_,children:c?e.jsx("div",{className:d.loading,children:"加载中..."}):o.map((i,r)=>e.jsxs("div",{className:d.section,children:[e.jsxs("div",{className:d.sectionHeader,children:[e.jsx("h3",{className:d.sectionTitle,children:i.name}),r===0&&e.jsx("button",{className:d.resetLink,onClick:()=>C(),children:"重置"})]}),e.jsx("div",{className:d.tagGroup,children:i.tags.map(t=>{const h=(s[i.key]||[]).includes(t.value);return e.jsx("button",{className:`${d.tag} ${h?d.active:""}`,onClick:()=>L(i.key,t.value),children:t.name},t.value)})})]},i.key))})},R=({className:l,style:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:l,style:s,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9999 2C14.2582 2 14.4935 2.14913 14.6034 2.38281C14.7134 2.61649 14.6782 2.89283 14.5136 3.0918L9.99993 8.54622V14C9.99993 14.231 9.88057 14.4455 9.68418 14.5671C9.48764 14.6885 9.24175 14.6997 9.03509 14.5964L6.36842 13.263C6.14264 13.1501 5.99993 12.9191 5.99993 12.6667V8.54622L1.48626 3.0918C1.32164 2.89283 1.28712 2.61648 1.39707 2.38281C1.50701 2.14924 1.74178 2.00007 1.99993 2H13.9999ZM7.18027 7.88151C7.27917 8.00104 7.33326 8.1515 7.33326 8.30664V12.2546L8.6666 12.9212V8.30664C8.6666 8.1515 8.72073 8.00104 8.81959 7.88151L12.5826 3.33333H3.41725L7.18027 7.88151Z",fill:"#BAD7F5"})}),X=({leftButtons:l,onFilterChange:s,currentFilters:n,className:a,isLoading:o=!1,fullSortState:p})=>{const[c,f]=x.useState(!1),[_,L]=x.useState(n||{}),C=x.useRef(null);x.useEffect(()=>{n&&L(n)},[n]);const i=()=>Object.values(_).reduce((t,h)=>t+(Array.isArray(h)?h.length:0),0);x.useEffect(()=>{const t=h=>{c&&C.current&&!C.current.contains(h.target)&&f(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[c]);const r=i();return e.jsxs("div",{className:j.filterBar+(a?" "+a:""),style:{zIndex:20},children:[e.jsx("div",{className:j.sortButtonsContainer,children:l.map((t,h)=>t.showIcon?e.jsx(m,{isLoading:o,delay:0,borderRadius:"28px",children:e.jsxs(y,{active:t.active,onClick:()=>{var u;c&&f(!1),(u=t.onClick)==null||u.call(t)},children:[t.label,e.jsx(H,{style:{transform:t.active&&(t.sortType==="time"&&p&&p.releaseTime==="asc"||t.sortType==="playTime"&&p&&p.playTime==="asc")?"rotate(180deg) scaleX(-1)":"none",transition:"transform 0.2s ease"}})]})},t.label):e.jsx(m,{isLoading:o,delay:0,borderRadius:"28px",children:e.jsx(y,{active:t.active,onClick:()=>{var u;c&&f(!1),(u=t.onClick)==null||u.call(t)},children:t.label})},t.label))}),e.jsxs("div",{ref:C,style:{position:"relative"},children:[e.jsx(m,{isLoading:o,delay:0,borderRadius:"28px",children:e.jsxs(y,{active:r>0||c,onClick:()=>f(!c),className:j.filterButtonSpecial,children:[e.jsx(R,{}),"筛选器",r>0&&e.jsxs("span",{style:{marginLeft:"4px"},children:["(",r,")"]})]})}),e.jsx(N,{isVisible:c,filters:_,onFilterChange:t=>{L(t),s==null||s(t)},onClose:()=>f(!1)})]})]})},b="_emptyState_ps211_1",P="_emptyIcon_ps211_12",U="_emptyText_ps211_18",v={emptyState:b,emptyIcon:P,emptyText:U},z=({message:l="呀,没找到游戏，去其他分类找找吧！"})=>e.jsxs("div",{className:`${v.emptyState} empty-state-component`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"120",viewBox:"0 0 150 121",fill:"none",className:v.emptyIcon,children:[e.jsx("g",{filter:"url(#filter0_d_2561_1643)",children:e.jsx("path",{d:"M102 42.6095H45V78.6095C45 79.7141 45.8954 80.6095 47 80.6095H98C100.209 80.6095 102 78.8186 102 76.6095V42.6095Z",fill:"#7298C0"})}),e.jsx("g",{filter:"url(#filter1_d_2561_1643)",children:e.jsx("path",{d:"M49 44.6095L45 42.6095V78.4222C45 79.1541 45.3998 79.8276 46.0423 80.178L50.5 82.6095L49 80.6095V44.6095Z",fill:"#6B99C8"})}),e.jsx("g",{filter:"url(#filter2_d_2561_1643)",children:e.jsx("path",{d:"M106 44.6095L102 42.6095V78.7811C102 79.3115 102.211 79.8202 102.586 80.1953L104.5 82.1095L106 80.6095V44.6095Z",fill:"#95B4D5"})}),e.jsx("path",{d:"M102.665 37.4908L76.8458 36.1779C76.0323 36.1366 75.275 36.5927 74.9312 37.3311L57.6153 74.5187C56.389 77.1522 58.2904 80.1733 61.1952 80.2069L92.7122 80.5715C94.6227 80.5936 96.2822 79.2614 96.6736 77.3912L104.521 39.8979C104.773 38.6959 103.892 37.5531 102.665 37.4908Z",fill:"#BAD7F5",fillOpacity:"0.15"}),e.jsx("path",{d:"M106 44.6095H49V80.6095C49 81.7141 49.8954 82.6095 51 82.6095H104C105.105 82.6095 106 81.7141 106 80.6095V44.6095Z",fill:"#9CC3EB"}),e.jsx("path",{d:"M49 44.6095L45.0432 42.6196C44.8126 42.5036 44.534 42.6333 44.4743 42.8845L40.5743 59.2967C40.5291 59.4872 40.5992 59.6867 40.7538 59.8069L44.3724 62.6213C44.6631 62.8475 45.0902 62.6923 45.168 62.3323L49 44.6095Z",fill:"#BAD7F5"}),e.jsx("path",{d:"M106 44.6095H49L52.9147 62.7152C52.9645 62.9453 53.168 63.1095 53.4034 63.1095H109.864C110.188 63.1095 110.426 62.8061 110.35 62.4913L106 44.6095Z",fill:"#BAD7F5"}),e.jsx("path",{d:"M102.531 34.901L106.233 29.5249L106.378 29.2191L106.442 28.8811L106.426 28.5592L106.298 28.2372L106.104 27.9636L105.847 27.7544L105.541 27.6417L105.203 27.6095L104.414 27.6578L103.867 27.7705L103.626 27.8992L103.304 28.1568L103.046 28.4787L102.837 28.9777L102.805 29.2674L102.531 34.901Z",fill:"#98FFE8"}),e.jsx("path",{d:"M104.061 35.8185L109.179 34.8688L109.453 34.7883L109.662 34.6274L109.839 34.4342L109.952 34.1767L110 33.9191L109.968 33.6616L109.855 33.4202L109.211 32.7924L108.938 32.5832L108.632 32.4705L108.31 32.4383L107.972 32.4705 L107.666 32.5832L107.392 32.7924L104.061 35.8185Z",fill:"#98FFE8"}),e.jsx("path",{d:"M102 33.7305L101.556 29.4745L101.37 29.0579L101.185 28.8942L100.944 28.79L100.667 28.7305H100.407L100.148 28.8049L99.4444 29.2811L99.2222 29.4894L99.0741 29.7275L99 29.9954V30.2632L99.0926 30.5162L99.2593 30.7692L102 33.7305Z",fill:"#98FFE8"}),e.jsx("rect",{x:"104.33",y:"84.0408",width:"4.03387",height:"10.258",rx:"2.01694",transform:"rotate(-41.4988 104.33 84.0408)",fill:"#BAD7F5",fillOpacity:"0.1"}),e.jsx("path",{d:"M95.6843 58.3595H94.8993C87.5287 58.3595 81.5537 64.3345 81.5537 71.7051C81.5537 79.0756 87.5287 85.0506 94.8993 85.0506H95.6843C103.055 85.0506 109.03 79.0756 109.03 71.7051C109.03 64.3345 103.055 58.3595 95.6843 58.3595Z",fill:"#BAD7F5",fillOpacity:"0.1"}),e.jsx("path",{d:"M91.2656 69.2354C91.2656 66.9464 93.0683 65.0907 95.292 65.0907C97.5156 65.0907 99.3183 66.9464 99.3183 69.2354C99.3183 71.5245 97.5156 73.3802 95.292 73.3802V75.1565",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M96.7653 79.097C96.7653 79.9323 96.0881 80.6095 95.2527 80.6095C94.4174 80.6095 93.7402 79.9323 93.7402 79.097C93.7402 78.2616 94.4174 77.5845 95.2527 77.5845C96.0881 77.5845 96.7653 78.2616 96.7653 79.097Z",fill:"white"}),e.jsx("rect",{x:"103.797",y:"81.8633",width:"1.95938",height:"2.65097",transform:"rotate(-41.4988 103.797 81.8633)",fill:"white",fillOpacity:"0.12"}),e.jsxs("defs",{children:[e.jsxs("filter",{id:"filter0_d_2561_1643",x:"42",y:"39.6095",width:"63",height:"44",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{}),e.jsx("feGaussianBlur",{stdDeviation:"1.5"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2561_1643"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2561_1643",result:"shape"})]}),e.jsxs("filter",{id:"filter1_d_2561_1643",x:"42",y:"39.6095",width:"11.5",height:"46",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{}),e.jsx("feGaussianBlur",{stdDeviation:"1.5"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2561_1643"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2561_1643",result:"shape"})]}),e.jsxs("filter",{id:"filter2_d_2561_1643",x:"99",y:"39.6095",width:"10",height:"45.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{}),e.jsx("feGaussianBlur",{stdDeviation:"1.5"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2561_1643"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2561_1643",result:"shape"})]})]})]}),e.jsx("div",{className:v.emptyText,children:l})]}),J=({className:l,style:s,sortDirection:n="none"})=>{const a=n==="asc";return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",className:l,style:s,children:[e.jsx("path",{d:"M6 2L2 8H10L6 2Z",fill:"#BAD7F5",fillOpacity:a?.3:1}),e.jsx("path",{d:"M6 18L10 12H2L6 18Z",fill:"#BAD7F5",fillOpacity:a?1:.3})]})};export{z as E,X as F,J as M,H as S};
