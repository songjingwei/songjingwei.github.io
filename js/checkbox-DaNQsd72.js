import{r as n,j as o,T as O,aR as U,U as E,aS as z,aT as S,aU as P,aV as G,a as N}from"./index-CybXJaB_.js";function K(e){const r=n.useRef({value:e,previous:e});return n.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var R="Checkbox",[X,Y]=O(R),[V,I]=X(R);function Z(e){const{__scopeCheckbox:r,checked:s,children:l,defaultChecked:a,disabled:t,form:h,name:b,onCheckedChange:d,required:C,value:k="on",internal_do_not_use_render:u}=e,[f,v]=z({prop:s,defaultProp:a??!1,onChange:d,caller:R}),[x,m]=n.useState(null),[g,c]=n.useState(null),i=n.useRef(!1),j=x?!!h||!!x.closest("form"):!0,y={checked:f,disabled:t,setChecked:v,control:x,setControl:m,name:b,form:h,value:k,hasConsumerStoppedPropagationRef:i,required:C,defaultChecked:p(a)?!1:a,isFormControl:j,bubbleInput:g,setBubbleInput:c};return o.jsx(V,{scope:r,...y,children:$(u)?u(y):l})}var B="CheckboxTrigger",T=n.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...l},a)=>{const{control:t,value:h,disabled:b,checked:d,required:C,setControl:k,setChecked:u,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:x}=I(B,e),m=S(a,k),g=n.useRef(d);return n.useEffect(()=>{const c=t==null?void 0:t.form;if(c){const i=()=>u(g.current);return c.addEventListener("reset",i),()=>c.removeEventListener("reset",i)}},[t,u]),o.jsx(E.button,{type:"button",role:"checkbox","aria-checked":p(d)?"mixed":d,"aria-required":C,"data-state":D(d),"data-disabled":b?"":void 0,disabled:b,value:h,...l,ref:m,onKeyDown:P(r,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:P(s,c=>{u(i=>p(i)?!0:!i),x&&v&&(f.current=c.isPropagationStopped(),f.current||c.stopPropagation())})})});T.displayName=B;var w=n.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:l,checked:a,defaultChecked:t,required:h,disabled:b,value:d,onCheckedChange:C,form:k,...u}=e;return o.jsx(Z,{__scopeCheckbox:s,checked:a,defaultChecked:t,disabled:b,required:h,onCheckedChange:C,name:l,form:k,value:d,internal_do_not_use_render:({isFormControl:f})=>o.jsxs(o.Fragment,{children:[o.jsx(T,{...u,ref:r,__scopeCheckbox:s}),f&&o.jsx(A,{__scopeCheckbox:s})]})})});w.displayName=R;var L="CheckboxIndicator",M=n.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:l,...a}=e,t=I(L,s);return o.jsx(U,{present:l||p(t.checked)||t.checked===!0,children:o.jsx(E.span,{"data-state":D(t.checked),"data-disabled":t.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});M.displayName=L;var q="CheckboxBubbleInput",A=n.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:l,hasConsumerStoppedPropagationRef:a,checked:t,defaultChecked:h,required:b,disabled:d,name:C,value:k,form:u,bubbleInput:f,setBubbleInput:v}=I(q,e),x=S(s,v),m=K(t),g=G(l);n.useEffect(()=>{const i=f;if(!i)return;const j=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(j,"checked").set,F=!a.current;if(m!==t&&_){const H=new Event("click",{bubbles:F});i.indeterminate=p(t),_.call(i,p(t)?!1:t),i.dispatchEvent(H)}},[f,m,t,a]);const c=n.useRef(p(t)?!1:t);return o.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??c.current,required:b,disabled:d,name:C,value:k,form:u,...r,tabIndex:-1,ref:x,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A.displayName=q;function $(e){return typeof e=="function"}function p(e){return e==="indeterminate"}function D(e){return p(e)?"indeterminate":e?"checked":"unchecked"}const J=e=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16","aria-label":"Check Icon",role:"img",...e,children:[o.jsx("title",{children:"Check Icon"}),o.jsx("desc",{children:"Check 图标"}),o.jsx("path",{d:"M13.25 3.5C12.791 3.083 12.062 3.118 11.646 3.578L6.937 9.188L4.5 6.578C4.083 6.161 3.354 6.125 2.896 6.542C2.438 6.958 2.401 7.688 2.818 8.146L5.938 11.594C6.156 11.833 6.479 11.979 6.812 11.979C7.146 11.979 7.469 11.833 7.688 11.594L13.312 5.25C13.729 4.792 13.693 4.062 13.25 3.5Z",fill:"currentColor"})]}),Q=n.forwardRef(({className:e,...r},s)=>o.jsx(w,{ref:s,className:N("peer h-4 w-4 shrink-0 rounded-sm border-b30 ring-offset-background focus-visible:outline-none focus-visible:border-[var(--Hover-Text)] focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-b100 data-[state-checked]:bg-b100 data-[state=checked]:border-b100 data-[state=checked]:text-black",e),...r,children:o.jsx(M,{className:N("flex items-center justify-center text-current"),children:o.jsx(J,{className:"h-4 w-4 text-black"})})}));Q.displayName=w.displayName;export{Q as C};
