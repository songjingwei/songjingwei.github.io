import{a5 as ft,j as s,a as F,r as I,d as ce,B as J,g as pt,M as De,a6 as _e,N as Ge,O as Ye,P as Be,m as mt,a7 as Te,a2 as ht,a8 as xt,a9 as Mt,aa as St,a0 as K,Z as vt,ab as wt,ac as Ct,l as jt,ad as It,ae as Nt,I as yt,a3 as Xe,k as Rt,R as bt,b as Je}from"./index-CybXJaB_.js";import{A as qe}from"./ArrowLeftIcon-udHCKLBD.js";import{A as Ke}from"./ArrowRightIcon-piqPE_18.js";import{g as Dt,a as _t}from"./order-DSTv4xSG.js";import{o as zt}from"./constants-C_vsFoNP.js";import{g as $t}from"./cloudgaming-CMuG5WXl.js";import{A as Pt,W as At,Q as Lt,C as Ft,a as Tt,g as Vt}from"./goods-C3nYno30.js";import{C as Et,a as Ot}from"./chevron-right-BSwAJ8f8.js";import{u as Ht}from"./useWindowSize-BAZYuwnF.js";import{N as P}from"./index-oH4-aH7I.js";import"./useCountdown-Dr_XpM1o.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],et=ft("file-search",kt),xe=e=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Service Icon",role:"img",...e,children:[s.jsx("title",{children:"Service Icon"}),s.jsx("desc",{children:"Service 图标"}),s.jsx("path",{d:"M15 14C15.5523 14 16.0005 14.4482 16.0005 15.0005C16.0005 15.5527 15.5522 16.0009 15 16.001H10.9995C10.4474 16.0007 10.0005 15.5526 10.0005 15.0005C10.0005 14.4483 10.4474 14.0002 10.9995 14H15Z",fill:"currentColor"}),s.jsx("path",{d:"M15 10.001C15.5521 10.001 16.0002 10.4479 16.0005 11C16.0005 11.5523 15.5523 12.0005 15 12.0005H9C8.44771 12.0005 7.99951 11.5523 7.99951 11C7.99976 10.4479 8.44787 10.001 9 10.001H15Z",fill:"currentColor"}),s.jsx("path",{d:"M15 6.00049C15.5523 6.00052 16.0005 6.44871 16.0005 7.00098C16.0002 7.553 15.5521 7.99997 15 8H9C8.44789 8 7.99979 7.55302 7.99951 7.00098C7.99951 6.44869 8.44771 6.00049 9 6.00049H15Z",fill:"currentColor"}),s.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.0005 2C19.5525 2.0003 19.9995 2.44839 19.9995 3.00049V21.0005C19.9995 21.3909 19.7726 21.7455 19.418 21.9087C19.0632 22.0719 18.6451 22.0134 18.3486 21.7593L17.3174 20.876C16.9429 20.555 16.3896 20.555 16.0151 20.876L14.9839 21.7593C14.6094 22.0801 14.0576 22.0801 13.6831 21.7593L12.6504 20.876C12.2759 20.555 11.7241 20.555 11.3496 20.876L10.3169 21.7593C9.94241 22.0801 9.39058 22.0802 9.01611 21.7593L7.9834 20.876C7.60891 20.555 7.05708 20.555 6.68262 20.876L5.65137 21.7593C5.35486 22.0134 4.93683 22.0719 4.58203 21.9087C4.22732 21.7455 4.0005 21.3909 4.00049 21.0005V3.00049C4.00049 2.44835 4.44742 2.00023 4.99951 2H19.0005ZM6 18.9482C7.05683 18.4233 8.35447 18.5588 9.28564 19.3569L9.6665 19.6836L10.0474 19.3569C11.1708 18.3939 12.8292 18.3939 13.9526 19.3569L14.3335 19.6836L14.7144 19.3569C15.6456 18.5588 16.9432 18.4232 18 18.9482V4.00098H6V18.9482Z",fill:"currentColor"})]});function Gt({className:e,...i}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:F("w-full caption-bottom text-sm bg-b10 rounded-2xl",e),...i})})}function Yt({className:e,...i}){return s.jsx("thead",{"data-slot":"table-header",className:F("[&_tr]:border-b [&_tr]:border-b5",e),...i})}function Bt({className:e,...i}){return s.jsx("tbody",{"data-slot":"table-body",className:F("[&_tr:last-child]:border-0",e),...i})}function ge({className:e,...i}){return s.jsx("tr",{"data-slot":"table-row",className:F("data-[state=selected]:bg-muted border-b border-solid border-b5 transition-colors",e),...i})}function Wt({className:e,...i}){return s.jsx("th",{"data-slot":"table-head",className:F("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]","text-b65 px-4 py-2.5 bg-b5",e),...i})}function ve({className:e,...i}){return s.jsx("td",{"data-slot":"table-cell",className:F("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]","px-4 py-2.5 bg-b10 text-b100",e),...i})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ee(e,i){return typeof e=="function"?e(i):e}function Z(e,i){return t=>{i.setState(n=>({...n,[e]:ee(t,n[e])}))}}function Me(e){return e instanceof Function}function Zt(e){return Array.isArray(e)&&e.every(i=>typeof i=="number")}function Ut(e,i){const t=[],n=r=>{r.forEach(o=>{t.push(o);const l=i(o);l!=null&&l.length&&n(l)})};return n(e),t}function N(e,i,t){let n=[],r;return o=>{let l;t.key&&t.debug&&(l=Date.now());const a=e(o);if(!(a.length!==n.length||a.some((g,p)=>n[p]!==g)))return r;n=a;let c;if(t.key&&t.debug&&(c=Date.now()),r=i(...a),t==null||t.onChange==null||t.onChange(r),t.key&&t.debug&&t!=null&&t.debug()){const g=Math.round((Date.now()-l)*100)/100,p=Math.round((Date.now()-c)*100)/100,f=p/16,d=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c⏱ ${d(p,5)} /${d(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return r}}function y(e,i,t,n){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[i]},key:!1,onChange:n}}function Qt(e,i,t,n){const r=()=>{var l;return(l=o.getValue())!=null?l:e.options.renderFallbackValue},o={id:`${i.id}_${t.id}`,row:i,column:t,getValue:()=>i.getValue(n),renderValue:r,getContext:N(()=>[e,t,i,o],(l,a,u,c)=>({table:l,column:a,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),y(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(o,t,i,e)},{}),o}function Xt(e,i,t,n){var r,o;const a={...e._getDefaultColumnDef(),...i},u=a.accessorKey;let c=(r=(o=a.id)!=null?o:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:u&&(u.includes(".")?g=f=>{let d=f;for(const h of u.split(".")){var m;d=(m=d)==null?void 0:m[h]}return d}:g=f=>f[a.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:g,parent:n,depth:t,columnDef:a,columns:[],getFlatColumns:N(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(d=>d.getFlatColumns())]},y(e.options,"debugColumns")),getLeafColumns:N(()=>[e._getOrderColumnsFn()],f=>{var d;if((d=p.columns)!=null&&d.length){let m=p.columns.flatMap(h=>h.getLeafColumns());return f(m)}return[p]},y(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const B="debugHeaders";function We(e,i,t){var n;let o={id:(n=t.id)!=null?n:i.id,column:i,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),l.push(u)};return a(o),l},getContext:()=>({table:e,header:o,column:i})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(o,e)}),o}const Jt={createTable:e=>{e.getHeaderGroups=N(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(i,t,n,r)=>{var o,l;const a=(o=n==null?void 0:n.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?o:[],u=(l=r==null?void 0:r.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?l:[],c=t.filter(p=>!(n!=null&&n.includes(p.id))&&!(r!=null&&r.includes(p.id)));return fe(i,[...a,...c,...u],e)},y(e.options,B)),e.getCenterHeaderGroups=N(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(i,t,n,r)=>(t=t.filter(o=>!(n!=null&&n.includes(o.id))&&!(r!=null&&r.includes(o.id))),fe(i,t,e,"center")),y(e.options,B)),e.getLeftHeaderGroups=N(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(i,t,n)=>{var r;const o=(r=n==null?void 0:n.map(l=>t.find(a=>a.id===l)).filter(Boolean))!=null?r:[];return fe(i,o,e,"left")},y(e.options,B)),e.getRightHeaderGroups=N(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(i,t,n)=>{var r;const o=(r=n==null?void 0:n.map(l=>t.find(a=>a.id===l)).filter(Boolean))!=null?r:[];return fe(i,o,e,"right")},y(e.options,B)),e.getFooterGroups=N(()=>[e.getHeaderGroups()],i=>[...i].reverse(),y(e.options,B)),e.getLeftFooterGroups=N(()=>[e.getLeftHeaderGroups()],i=>[...i].reverse(),y(e.options,B)),e.getCenterFooterGroups=N(()=>[e.getCenterHeaderGroups()],i=>[...i].reverse(),y(e.options,B)),e.getRightFooterGroups=N(()=>[e.getRightHeaderGroups()],i=>[...i].reverse(),y(e.options,B)),e.getFlatHeaders=N(()=>[e.getHeaderGroups()],i=>i.map(t=>t.headers).flat(),y(e.options,B)),e.getLeftFlatHeaders=N(()=>[e.getLeftHeaderGroups()],i=>i.map(t=>t.headers).flat(),y(e.options,B)),e.getCenterFlatHeaders=N(()=>[e.getCenterHeaderGroups()],i=>i.map(t=>t.headers).flat(),y(e.options,B)),e.getRightFlatHeaders=N(()=>[e.getRightHeaderGroups()],i=>i.map(t=>t.headers).flat(),y(e.options,B)),e.getCenterLeafHeaders=N(()=>[e.getCenterFlatHeaders()],i=>i.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),y(e.options,B)),e.getLeftLeafHeaders=N(()=>[e.getLeftFlatHeaders()],i=>i.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),y(e.options,B)),e.getRightLeafHeaders=N(()=>[e.getRightFlatHeaders()],i=>i.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),y(e.options,B)),e.getLeafHeaders=N(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(i,t,n)=>{var r,o,l,a,u,c;return[...(r=(o=i[0])==null?void 0:o.headers)!=null?r:[],...(l=(a=t[0])==null?void 0:a.headers)!=null?l:[],...(u=(c=n[0])==null?void 0:c.headers)!=null?u:[]].map(g=>g.getLeafHeaders()).flat()},y(e.options,B))}};function fe(e,i,t,n){var r,o;let l=0;const a=function(f,d){d===void 0&&(d=1),l=Math.max(l,d),f.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&a(m.columns,d+1)},0)};a(e);let u=[];const c=(f,d)=>{const m={depth:d,id:[n,`${d}`].filter(Boolean).join("_"),headers:[]},h=[];f.forEach(C=>{const v=[...h].reverse()[0],$=C.column.depth===m.depth;let z,V=!1;if($&&C.column.parent?z=C.column.parent:(z=C.column,V=!0),v&&(v==null?void 0:v.column)===z)v.subHeaders.push(C);else{const E=We(t,z,{id:[n,d,z.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:V,placeholderId:V?`${h.filter(w=>w.column===z).length}`:void 0,depth:d,index:h.length});E.subHeaders.push(C),h.push(E)}m.headers.push(C),C.headerGroup=m}),u.push(m),d>0&&c(h,d-1)},g=i.map((f,d)=>We(t,f,{depth:l,index:d}));c(g,l-1),u.reverse();const p=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,C=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],p(m.subHeaders).forEach(z=>{let{colSpan:V,rowSpan:E}=z;h+=V,v.push(E)})):h=1;const $=Math.min(...v);return C=C+$,m.colSpan=h,m.rowSpan=C,{colSpan:h,rowSpan:C}});return p((r=(o=u[0])==null?void 0:o.headers)!=null?r:[]),u}const qt=(e,i,t,n,r,o,l)=>{let a={id:i,index:n,original:t,depth:r,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const c=e.getColumn(u);if(c!=null&&c.accessorFn)return a._valuesCache[u]=c.accessorFn(a.original,n),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const c=e.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=c.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=a.getValue(u))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ut(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],c=a;for(;;){const g=c.getParentRow();if(!g)break;u.push(g),c=g}return u.reverse()},getAllCells:N(()=>[e.getAllLeafColumns()],u=>u.map(c=>Qt(e,a,c,c.id)),y(e.options,"debugRows")),_getAllCellsByColumnId:N(()=>[a.getAllCells()],u=>u.reduce((c,g)=>(c[g.column.id]=g,c),{}),y(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const c=e._features[u];c==null||c.createRow==null||c.createRow(a,e)}return a},Kt={createColumn:(e,i)=>{e._getFacetedRowModel=i.options.getFacetedRowModel&&i.options.getFacetedRowModel(i,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():i.getPreFilteredRowModel(),e._getFacetedUniqueValues=i.options.getFacetedUniqueValues&&i.options.getFacetedUniqueValues(i,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=i.options.getFacetedMinMaxValues&&i.options.getFacetedMinMaxValues(i,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},tt=(e,i,t)=>{var n,r;const o=t==null||(n=t.toString())==null?void 0:n.toLowerCase();return!!(!((r=e.getValue(i))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};tt.autoRemove=e=>Q(e);const nt=(e,i,t)=>{var n;return!!(!((n=e.getValue(i))==null||(n=n.toString())==null)&&n.includes(t))};nt.autoRemove=e=>Q(e);const it=(e,i,t)=>{var n;return((n=e.getValue(i))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(t==null?void 0:t.toLowerCase())};it.autoRemove=e=>Q(e);const rt=(e,i,t)=>{var n;return(n=e.getValue(i))==null?void 0:n.includes(t)};rt.autoRemove=e=>Q(e);const st=(e,i,t)=>!t.some(n=>{var r;return!((r=e.getValue(i))!=null&&r.includes(n))});st.autoRemove=e=>Q(e)||!(e!=null&&e.length);const ot=(e,i,t)=>t.some(n=>{var r;return(r=e.getValue(i))==null?void 0:r.includes(n)});ot.autoRemove=e=>Q(e)||!(e!=null&&e.length);const lt=(e,i,t)=>e.getValue(i)===t;lt.autoRemove=e=>Q(e);const at=(e,i,t)=>e.getValue(i)==t;at.autoRemove=e=>Q(e);const Ve=(e,i,t)=>{let[n,r]=t;const o=e.getValue(i);return o>=n&&o<=r};Ve.resolveFilterValue=e=>{let[i,t]=e,n=typeof i!="number"?parseFloat(i):i,r=typeof t!="number"?parseFloat(t):t,o=i===null||Number.isNaN(n)?-1/0:n,l=t===null||Number.isNaN(r)?1/0:r;if(o>l){const a=o;o=l,l=a}return[o,l]};Ve.autoRemove=e=>Q(e)||Q(e[0])&&Q(e[1]);const X={includesString:tt,includesStringSensitive:nt,equalsString:it,arrIncludes:rt,arrIncludesAll:st,arrIncludesSome:ot,equals:lt,weakEquals:at,inNumberRange:Ve};function Q(e){return e==null||e===""}const en={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Z("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,i)=>{e.getAutoFilterFn=()=>{const t=i.getCoreRowModel().flatRows[0],n=t==null?void 0:t.getValue(e.id);return typeof n=="string"?X.includesString:typeof n=="number"?X.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?X.equals:Array.isArray(n)?X.arrIncludes:X.weakEquals},e.getFilterFn=()=>{var t,n;return Me(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(n=i.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?t:X[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,n,r;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((n=i.options.enableColumnFilters)!=null?n:!0)&&((r=i.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=i.getState().columnFilters)==null||(t=t.find(n=>n.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,n;return(t=(n=i.getState().columnFilters)==null?void 0:n.findIndex(r=>r.id===e.id))!=null?t:-1},e.setFilterValue=t=>{i.setColumnFilters(n=>{const r=e.getFilterFn(),o=n==null?void 0:n.find(g=>g.id===e.id),l=ee(t,o?o.value:void 0);if(Ze(r,l,e)){var a;return(a=n==null?void 0:n.filter(g=>g.id!==e.id))!=null?a:[]}const u={id:e.id,value:l};if(o){var c;return(c=n==null?void 0:n.map(g=>g.id===e.id?u:g))!=null?c:[]}return n!=null&&n.length?[...n,u]:[u]})}},createRow:(e,i)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=i=>{const t=e.getAllLeafColumns(),n=r=>{var o;return(o=ee(i,r))==null?void 0:o.filter(l=>{const a=t.find(u=>u.id===l.id);if(a){const u=a.getFilterFn();if(Ze(u,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=i=>{var t,n;e.setColumnFilters(i?[]:(t=(n=e.initialState)==null?void 0:n.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ze(e,i,t){return(e&&e.autoRemove?e.autoRemove(i,t):!1)||typeof i>"u"||typeof i=="string"&&!i}const tn=(e,i,t)=>t.reduce((n,r)=>{const o=r.getValue(e);return n+(typeof o=="number"?o:0)},0),nn=(e,i,t)=>{let n;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}),n},rn=(e,i,t)=>{let n;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}),n},sn=(e,i,t)=>{let n,r;return t.forEach(o=>{const l=o.getValue(e);l!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}),[n,r]},on=(e,i)=>{let t=0,n=0;if(i.forEach(r=>{let o=r.getValue(e);o!=null&&(o=+o)>=o&&(++t,n+=o)}),t)return n/t},ln=(e,i)=>{if(!i.length)return;const t=i.map(o=>o.getValue(e));if(!Zt(t))return;if(t.length===1)return t[0];const n=Math.floor(t.length/2),r=t.sort((o,l)=>o-l);return t.length%2!==0?r[n]:(r[n-1]+r[n])/2},an=(e,i)=>Array.from(new Set(i.map(t=>t.getValue(e))).values()),un=(e,i)=>new Set(i.map(t=>t.getValue(e))).size,cn=(e,i)=>i.length,we={sum:tn,min:nn,max:rn,extent:sn,mean:on,median:ln,unique:an,uniqueCount:un,count:cn},dn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var i,t;return(i=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?i:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Z("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,i)=>{e.toggleGrouping=()=>{i.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(n=>n!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,n;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((n=i.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=i.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=i.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=i.getCoreRowModel().flatRows[0],n=t==null?void 0:t.getValue(e.id);if(typeof n=="number")return we.sum;if(Object.prototype.toString.call(n)==="[object Date]")return we.extent},e.getAggregationFn=()=>{var t,n;if(!e)throw new Error;return Me(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(n=i.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?t:we[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=i=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(i),e.resetGrouping=i=>{var t,n;e.setGrouping(i?[]:(t=(n=e.initialState)==null?void 0:n.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,i)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const n=i.getColumn(t);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[t]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,i,t,n)=>{e.getIsGrouped=()=>i.getIsGrouped()&&i.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&i.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=t.subRows)!=null&&r.length)}}};function gn(e,i,t){if(!(i!=null&&i.length)||!t)return e;const n=e.filter(o=>!i.includes(o.id));return t==="remove"?n:[...i.map(o=>e.find(l=>l.id===o)).filter(Boolean),...n]}const fn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Z("columnOrder",e)}),createColumn:(e,i)=>{e.getIndex=N(t=>[ue(i,t)],t=>t.findIndex(n=>n.id===e.id),y(i.options,"debugColumns")),e.getIsFirstColumn=t=>{var n;return((n=ue(i,t)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=t=>{var n;const r=ue(i,t);return((n=r[r.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=i=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(i),e.resetColumnOrder=i=>{var t;e.setColumnOrder(i?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=N(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(i,t,n)=>r=>{let o=[];if(!(i!=null&&i.length))o=r;else{const l=[...i],a=[...r];for(;a.length&&l.length;){const u=l.shift(),c=a.findIndex(g=>g.id===u);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return gn(o,t,n)},y(e.options,"debugTable"))}},Ce=()=>({left:[],right:[]}),pn={getInitialState:e=>({columnPinning:Ce(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Z("columnPinning",e)}),createColumn:(e,i)=>{e.pin=t=>{const n=e.getLeafColumns().map(r=>r.id).filter(Boolean);i.setColumnPinning(r=>{var o,l;if(t==="right"){var a,u;return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(p=>!(n!=null&&n.includes(p))),right:[...((u=r==null?void 0:r.right)!=null?u:[]).filter(p=>!(n!=null&&n.includes(p))),...n]}}if(t==="left"){var c,g;return{left:[...((c=r==null?void 0:r.left)!=null?c:[]).filter(p=>!(n!=null&&n.includes(p))),...n],right:((g=r==null?void 0:r.right)!=null?g:[]).filter(p=>!(n!=null&&n.includes(p)))}}return{left:((o=r==null?void 0:r.left)!=null?o:[]).filter(p=>!(n!=null&&n.includes(p))),right:((l=r==null?void 0:r.right)!=null?l:[]).filter(p=>!(n!=null&&n.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var r,o,l;return((r=n.columnDef.enablePinning)!=null?r:!0)&&((o=(l=i.options.enableColumnPinning)!=null?l:i.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:n,right:r}=i.getState().columnPinning,o=t.some(a=>n==null?void 0:n.includes(a)),l=t.some(a=>r==null?void 0:r.includes(a));return o?"left":l?"right":!1},e.getPinnedIndex=()=>{var t,n;const r=e.getIsPinned();return r?(t=(n=i.getState().columnPinning)==null||(n=n[r])==null?void 0:n.indexOf(e.id))!=null?t:-1:0}},createRow:(e,i)=>{e.getCenterVisibleCells=N(()=>[e._getAllVisibleCells(),i.getState().columnPinning.left,i.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(l=>!o.includes(l.column.id))},y(i.options,"debugRows")),e.getLeftVisibleCells=N(()=>[e._getAllVisibleCells(),i.getState().columnPinning.left],(t,n)=>(n??[]).map(o=>t.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),y(i.options,"debugRows")),e.getRightVisibleCells=N(()=>[e._getAllVisibleCells(),i.getState().columnPinning.right],(t,n)=>(n??[]).map(o=>t.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),y(i.options,"debugRows"))},createTable:e=>{e.setColumnPinning=i=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(i),e.resetColumnPinning=i=>{var t,n;return e.setColumnPinning(i?Ce():(t=(n=e.initialState)==null?void 0:n.columnPinning)!=null?t:Ce())},e.getIsSomeColumnsPinned=i=>{var t;const n=e.getState().columnPinning;if(!i){var r,o;return!!((r=n.left)!=null&&r.length||(o=n.right)!=null&&o.length)}return!!((t=n[i])!=null&&t.length)},e.getLeftLeafColumns=N(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(i,t)=>(t??[]).map(n=>i.find(r=>r.id===n)).filter(Boolean),y(e.options,"debugColumns")),e.getRightLeafColumns=N(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(i,t)=>(t??[]).map(n=>i.find(r=>r.id===n)).filter(Boolean),y(e.options,"debugColumns")),e.getCenterLeafColumns=N(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(i,t,n)=>{const r=[...t??[],...n??[]];return i.filter(o=>!r.includes(o.id))},y(e.options,"debugColumns"))}};function mn(e){return e||(typeof document<"u"?document:null)}const pe={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},je=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),hn={getDefaultColumnDef:()=>pe,getInitialState:e=>({columnSizing:{},columnSizingInfo:je(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Z("columnSizing",e),onColumnSizingInfoChange:Z("columnSizingInfo",e)}),createColumn:(e,i)=>{e.getSize=()=>{var t,n,r;const o=i.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:pe.minSize,(n=o??e.columnDef.size)!=null?n:pe.size),(r=e.columnDef.maxSize)!=null?r:pe.maxSize)},e.getStart=N(t=>[t,ue(i,t),i.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((r,o)=>r+o.getSize(),0),y(i.options,"debugColumns")),e.getAfter=N(t=>[t,ue(i,t),i.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((r,o)=>r+o.getSize(),0),y(i.options,"debugColumns")),e.resetSize=()=>{i.setColumnSizing(t=>{let{[e.id]:n,...r}=t;return r})},e.getCanResize=()=>{var t,n;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((n=i.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>i.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,i)=>{e.getSize=()=>{let t=0;const n=r=>{if(r.subHeaders.length)r.subHeaders.forEach(n);else{var o;t+=(o=r.column.getSize())!=null?o:0}};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const n=i.getColumn(e.column.id),r=n==null?void 0:n.getCanResize();return o=>{if(!n||!r||(o.persist==null||o.persist(),Ie(o)&&o.touches&&o.touches.length>1))return;const l=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[n.id,n.getSize()]],u=Ie(o)?Math.round(o.touches[0].clientX):o.clientX,c={},g=(v,$)=>{typeof $=="number"&&(i.setColumnSizingInfo(z=>{var V,E;const w=i.options.columnResizeDirection==="rtl"?-1:1,A=($-((V=z==null?void 0:z.startOffset)!=null?V:0))*w,G=Math.max(A/((E=z==null?void 0:z.startSize)!=null?E:0),-.999999);return z.columnSizingStart.forEach(H=>{let[T,_]=H;c[T]=Math.round(Math.max(_+_*G,0)*100)/100}),{...z,deltaOffset:A,deltaPercentage:G}}),(i.options.columnResizeMode==="onChange"||v==="end")&&i.setColumnSizing(z=>({...z,...c})))},p=v=>g("move",v),f=v=>{g("end",v),i.setColumnSizingInfo($=>({...$,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=mn(t),m={moveHandler:v=>p(v.clientX),upHandler:v=>{d==null||d.removeEventListener("mousemove",m.moveHandler),d==null||d.removeEventListener("mouseup",m.upHandler),f(v.clientX)}},h={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),p(v.touches[0].clientX),!1),upHandler:v=>{var $;d==null||d.removeEventListener("touchmove",h.moveHandler),d==null||d.removeEventListener("touchend",h.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(($=v.touches[0])==null?void 0:$.clientX)}},C=xn()?{passive:!1}:!1;Ie(o)?(d==null||d.addEventListener("touchmove",h.moveHandler,C),d==null||d.addEventListener("touchend",h.upHandler,C)):(d==null||d.addEventListener("mousemove",m.moveHandler,C),d==null||d.addEventListener("mouseup",m.upHandler,C)),i.setColumnSizingInfo(v=>({...v,startOffset:u,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=i=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(i),e.setColumnSizingInfo=i=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(i),e.resetColumnSizing=i=>{var t;e.setColumnSizing(i?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=i=>{var t;e.setColumnSizingInfo(i?je():(t=e.initialState.columnSizingInfo)!=null?t:je())},e.getTotalSize=()=>{var i,t;return(i=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((n,r)=>n+r.getSize(),0))!=null?i:0},e.getLeftTotalSize=()=>{var i,t;return(i=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((n,r)=>n+r.getSize(),0))!=null?i:0},e.getCenterTotalSize=()=>{var i,t;return(i=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((n,r)=>n+r.getSize(),0))!=null?i:0},e.getRightTotalSize=()=>{var i,t;return(i=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((n,r)=>n+r.getSize(),0))!=null?i:0}}};let me=null;function xn(){if(typeof me=="boolean")return me;let e=!1;try{const i={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,i),window.removeEventListener("test",t)}catch{e=!1}return me=e,me}function Ie(e){return e.type==="touchstart"}const Mn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Z("columnVisibility",e)}),createColumn:(e,i)=>{e.toggleVisibility=t=>{e.getCanHide()&&i.setColumnVisibility(n=>({...n,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,n;const r=e.columns;return(t=r.length?r.some(o=>o.getIsVisible()):(n=i.getState().columnVisibility)==null?void 0:n[e.id])!=null?t:!0},e.getCanHide=()=>{var t,n;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((n=i.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,i)=>{e._getAllVisibleCells=N(()=>[e.getAllCells(),i.getState().columnVisibility],t=>t.filter(n=>n.column.getIsVisible()),y(i.options,"debugRows")),e.getVisibleCells=N(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,n,r)=>[...t,...n,...r],y(i.options,"debugRows"))},createTable:e=>{const i=(t,n)=>N(()=>[n(),n().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),y(e.options,"debugColumns"));e.getVisibleFlatColumns=i("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=i("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=i("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=i("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=i("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,o)=>({...r,[o.id]:t||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function ue(e,i){return i?i==="center"?e.getCenterVisibleLeafColumns():i==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Sn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},vn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Z("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:i=>{var t;const n=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[i.id])==null?void 0:t.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,i)=>{e.getCanGlobalFilter=()=>{var t,n,r,o;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((n=i.options.enableGlobalFilter)!=null?n:!0)&&((r=i.options.enableFilters)!=null?r:!0)&&((o=i.options.getColumnCanGlobalFilter==null?void 0:i.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>X.includesString,e.getGlobalFilterFn=()=>{var i,t;const{globalFilterFn:n}=e.options;return Me(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(i=(t=e.options.filterFns)==null?void 0:t[n])!=null?i:X[n]},e.setGlobalFilter=i=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(i)},e.resetGlobalFilter=i=>{e.setGlobalFilter(i?void 0:e.initialState.globalFilter)}}},wn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Z("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let i=!1,t=!1;e._autoResetExpanded=()=>{var n,r;if(!i){e._queue(()=>{i=!0});return}if((n=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var r,o;e.setExpanded(n?{}:(r=(o=e.initialState)==null?void 0:o.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const l=o.split(".");n=Math.max(n,l.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,i)=>{e.toggleExpanded=t=>{i.setExpanded(n=>{var r;const o=n===!0?!0:!!(n!=null&&n[e.id]);let l={};if(n===!0?Object.keys(i.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=n,t=(r=t)!=null?r:!o,!o&&t)return{...l,[e.id]:!0};if(o&&!t){const{[e.id]:a,...u}=l;return u}return n})},e.getIsExpanded=()=>{var t;const n=i.getState().expanded;return!!((t=i.options.getIsRowExpanded==null?void 0:i.options.getIsRowExpanded(e))!=null?t:n===!0||n!=null&&n[e.id])},e.getCanExpand=()=>{var t,n,r;return(t=i.options.getRowCanExpand==null?void 0:i.options.getRowCanExpand(e))!=null?t:((n=i.options.enableExpanding)!=null?n:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let t=!0,n=e;for(;t&&n.parentId;)n=i.getRow(n.parentId,!0),t=n.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},ze=0,$e=10,Ne=()=>({pageIndex:ze,pageSize:$e}),Cn={getInitialState:e=>({...e,pagination:{...Ne(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Z("pagination",e)}),createTable:e=>{let i=!1,t=!1;e._autoResetPageIndex=()=>{var n,r;if(!i){e._queue(()=>{i=!0});return}if((n=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=n=>{const r=o=>ee(n,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=n=>{var r;e.setPagination(n?Ne():(r=e.initialState.pagination)!=null?r:Ne())},e.setPageIndex=n=>{e.setPagination(r=>{let o=ee(n,r.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,l)),{...r,pageIndex:o}})},e.resetPageIndex=n=>{var r,o;e.setPageIndex(n?ze:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?r:ze)},e.resetPageSize=n=>{var r,o;e.setPageSize(n?$e:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?r:$e)},e.setPageSize=n=>{e.setPagination(r=>{const o=Math.max(1,ee(n,r.pageSize)),l=r.pageSize*r.pageIndex,a=Math.floor(l/o);return{...r,pageIndex:a,pageSize:o}})},e.setPageCount=n=>e.setPagination(r=>{var o;let l=ee(n,(o=e.options.pageCount)!=null?o:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...r,pageCount:l}}),e.getPageOptions=N(()=>[e.getPageCount()],n=>{let r=[];return n&&n>0&&(r=[...new Array(n)].fill(null).map((o,l)=>l)),r},y(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:n<r-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},ye=()=>({top:[],bottom:[]}),jn={getInitialState:e=>({rowPinning:ye(),...e}),getDefaultOptions:e=>({onRowPinningChange:Z("rowPinning",e)}),createRow:(e,i)=>{e.pin=(t,n,r)=>{const o=n?e.getLeafRows().map(u=>{let{id:c}=u;return c}):[],l=r?e.getParentRows().map(u=>{let{id:c}=u;return c}):[],a=new Set([...l,e.id,...o]);i.setRowPinning(u=>{var c,g;if(t==="bottom"){var p,f;return{top:((p=u==null?void 0:u.top)!=null?p:[]).filter(h=>!(a!=null&&a.has(h))),bottom:[...((f=u==null?void 0:u.bottom)!=null?f:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)]}}if(t==="top"){var d,m;return{top:[...((d=u==null?void 0:u.top)!=null?d:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)],bottom:((m=u==null?void 0:u.bottom)!=null?m:[]).filter(h=>!(a!=null&&a.has(h)))}}return{top:((c=u==null?void 0:u.top)!=null?c:[]).filter(h=>!(a!=null&&a.has(h))),bottom:((g=u==null?void 0:u.bottom)!=null?g:[]).filter(h=>!(a!=null&&a.has(h)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:n,enablePinning:r}=i.options;return typeof n=="function"?n(e):(t=n??r)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:n,bottom:r}=i.getState().rowPinning,o=t.some(a=>n==null?void 0:n.includes(a)),l=t.some(a=>r==null?void 0:r.includes(a));return o?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var t,n;const r=e.getIsPinned();if(!r)return-1;const o=(t=r==="top"?i.getTopRows():i.getBottomRows())==null?void 0:t.map(l=>{let{id:a}=l;return a});return(n=o==null?void 0:o.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=i=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(i),e.resetRowPinning=i=>{var t,n;return e.setRowPinning(i?ye():(t=(n=e.initialState)==null?void 0:n.rowPinning)!=null?t:ye())},e.getIsSomeRowsPinned=i=>{var t;const n=e.getState().rowPinning;if(!i){var r,o;return!!((r=n.top)!=null&&r.length||(o=n.bottom)!=null&&o.length)}return!!((t=n[i])!=null&&t.length)},e._getPinnedRows=(i,t,n)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(t??[]).map(l=>{const a=e.getRow(l,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(l=>i.find(a=>a.id===l))).filter(Boolean).map(l=>({...l,position:n}))},e.getTopRows=N(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(i,t)=>e._getPinnedRows(i,t,"top"),y(e.options,"debugRows")),e.getBottomRows=N(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(i,t)=>e._getPinnedRows(i,t,"bottom"),y(e.options,"debugRows")),e.getCenterRows=N(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(i,t,n)=>{const r=new Set([...t??[],...n??[]]);return i.filter(o=>!r.has(o.id))},y(e.options,"debugRows"))}},In={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Z("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=i=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(i),e.resetRowSelection=i=>{var t;return e.setRowSelection(i?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=i=>{e.setRowSelection(t=>{i=typeof i<"u"?i:!e.getIsAllRowsSelected();const n={...t},r=e.getPreGroupedRowModel().flatRows;return i?r.forEach(o=>{o.getCanSelect()&&(n[o.id]=!0)}):r.forEach(o=>{delete n[o.id]}),n})},e.toggleAllPageRowsSelected=i=>e.setRowSelection(t=>{const n=typeof i<"u"?i:!e.getIsAllPageRowsSelected(),r={...t};return e.getRowModel().rows.forEach(o=>{Pe(r,o.id,n,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=N(()=>[e.getState().rowSelection,e.getCoreRowModel()],(i,t)=>Object.keys(i).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getFilteredSelectedRowModel=N(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(i,t)=>Object.keys(i).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getGroupedSelectedRowModel=N(()=>[e.getState().rowSelection,e.getSortedRowModel()],(i,t)=>Object.keys(i).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const i=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let n=!!(i.length&&Object.keys(t).length);return n&&i.some(r=>r.getCanSelect()&&!t[r.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const i=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:t}=e.getState();let n=!!i.length;return n&&i.some(r=>!t[r.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var i;const t=Object.keys((i=e.getState().rowSelection)!=null?i:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const i=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:i.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>i=>{e.toggleAllRowsSelected(i.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>i=>{e.toggleAllPageRowsSelected(i.target.checked)}},createRow:(e,i)=>{e.toggleSelected=(t,n)=>{const r=e.getIsSelected();i.setRowSelection(o=>{var l;if(t=typeof t<"u"?t:!r,e.getCanSelect()&&r===t)return o;const a={...o};return Pe(a,e.id,t,(l=n==null?void 0:n.selectChildren)!=null?l:!0,i),a})},e.getIsSelected=()=>{const{rowSelection:t}=i.getState();return Ee(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=i.getState();return Ae(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=i.getState();return Ae(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof i.options.enableRowSelection=="function"?i.options.enableRowSelection(e):(t=i.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof i.options.enableSubRowSelection=="function"?i.options.enableSubRowSelection(e):(t=i.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof i.options.enableMultiRowSelection=="function"?i.options.enableMultiRowSelection(e):(t=i.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected((r=n.target)==null?void 0:r.checked)}}}},Pe=(e,i,t,n,r)=>{var o;const l=r.getRow(i,!0);t?(l.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),l.getCanSelect()&&(e[i]=!0)):delete e[i],n&&(o=l.subRows)!=null&&o.length&&l.getCanSelectSubRows()&&l.subRows.forEach(a=>Pe(e,a.id,t,n,r))};function Re(e,i){const t=e.getState().rowSelection,n=[],r={},o=function(l,a){return l.map(u=>{var c;const g=Ee(u,t);if(g&&(n.push(u),r[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:o(u.subRows)}),g)return u}).filter(Boolean)};return{rows:o(i.rows),flatRows:n,rowsById:r}}function Ee(e,i){var t;return(t=i[e.id])!=null?t:!1}function Ae(e,i,t){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let r=!0,o=!1;return e.subRows.forEach(l=>{if(!(o&&!r)&&(l.getCanSelect()&&(Ee(l,i)?o=!0:r=!1),l.subRows&&l.subRows.length)){const a=Ae(l,i);a==="all"?o=!0:(a==="some"&&(o=!0),r=!1)}}),r?"all":o?"some":!1}const Le=/([0-9]+)/gm,Nn=(e,i,t)=>ut(te(e.getValue(t)).toLowerCase(),te(i.getValue(t)).toLowerCase()),yn=(e,i,t)=>ut(te(e.getValue(t)),te(i.getValue(t))),Rn=(e,i,t)=>Oe(te(e.getValue(t)).toLowerCase(),te(i.getValue(t)).toLowerCase()),bn=(e,i,t)=>Oe(te(e.getValue(t)),te(i.getValue(t))),Dn=(e,i,t)=>{const n=e.getValue(t),r=i.getValue(t);return n>r?1:n<r?-1:0},_n=(e,i,t)=>Oe(e.getValue(t),i.getValue(t));function Oe(e,i){return e===i?0:e>i?1:-1}function te(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ut(e,i){const t=e.split(Le).filter(Boolean),n=i.split(Le).filter(Boolean);for(;t.length&&n.length;){const r=t.shift(),o=n.shift(),l=parseInt(r,10),a=parseInt(o,10),u=[l,a].sort();if(isNaN(u[0])){if(r>o)return 1;if(o>r)return-1;continue}if(isNaN(u[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return t.length-n.length}const ae={alphanumeric:Nn,alphanumericCaseSensitive:yn,text:Rn,textCaseSensitive:bn,datetime:Dn,basic:_n},zn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Z("sorting",e),isMultiSortEvent:i=>i.shiftKey}),createColumn:(e,i)=>{e.getAutoSortingFn=()=>{const t=i.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const r of t){const o=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ae.datetime;if(typeof o=="string"&&(n=!0,o.split(Le).length>1))return ae.alphanumeric}return n?ae.text:ae.basic},e.getAutoSortDir=()=>{const t=i.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,n;if(!e)throw new Error;return Me(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(n=i.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?t:ae[e.columnDef.sortingFn]},e.toggleSorting=(t,n)=>{const r=e.getNextSortingOrder(),o=typeof t<"u"&&t!==null;i.setSorting(l=>{const a=l==null?void 0:l.find(d=>d.id===e.id),u=l==null?void 0:l.findIndex(d=>d.id===e.id);let c=[],g,p=o?t:r==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&n?a?g="toggle":g="add":l!=null&&l.length&&u!==l.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(o||r||(g="remove")),g==="add"){var f;c=[...l,{id:e.id,desc:p}],c.splice(0,c.length-((f=i.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else g==="toggle"?c=l.map(d=>d.id===e.id?{...d,desc:p}:d):g==="remove"?c=l.filter(d=>d.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var t,n;return((t=(n=e.columnDef.sortDescFirst)!=null?n:i.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var n,r;const o=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==o&&((n=i.options.enableSortingRemoval)==null||n)&&(!(t&&(r=i.options.enableMultiRemove)!=null)||r)?!1:l==="desc"?"asc":"desc":o},e.getCanSort=()=>{var t,n;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((n=i.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,n;return(t=(n=e.columnDef.enableMultiSort)!=null?n:i.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const n=(t=i.getState().sorting)==null?void 0:t.find(r=>r.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,n;return(t=(n=i.getState().sorting)==null?void 0:n.findIndex(r=>r.id===e.id))!=null?t:-1},e.clearSorting=()=>{i.setSorting(t=>t!=null&&t.length?t.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return n=>{t&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?i.options.isMultiSortEvent==null?void 0:i.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=i=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(i),e.resetSorting=i=>{var t,n;e.setSorting(i?[]:(t=(n=e.initialState)==null?void 0:n.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},$n=[Jt,Mn,fn,pn,Kt,en,Sn,vn,zn,dn,wn,Cn,jn,In,hn];function Pn(e){var i,t;const n=[...$n,...(i=e._features)!=null?i:[]];let r={_features:n};const o=r._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(r)),{}),l=f=>r.options.mergeOptions?r.options.mergeOptions(o,f):{...o,...f};let u={...{},...(t=e.initialState)!=null?t:{}};r._features.forEach(f=>{var d;u=(d=f.getInitialState==null?void 0:f.getInitialState(u))!=null?d:u});const c=[];let g=!1;const p={_features:n,options:{...o,...e},initialState:u,_queue:f=>{c.push(f),g||(g=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();g=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const d=ee(f,r.options);r.options=l(d)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,d,m)=>{var h;return(h=r.options.getRowId==null?void 0:r.options.getRowId(f,d,m))!=null?h:`${m?[m.id,d].join("."):d}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,d)=>{let m=(d?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!m&&(m=r.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:N(()=>[r.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,C;return(h=(C=m.renderValue())==null||C.toString==null?void 0:C.toString())!=null?h:null},...r._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...f}},y(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:N(()=>[r._getColumnDefs()],f=>{const d=function(m,h,C){return C===void 0&&(C=0),m.map(v=>{const $=Xt(r,v,C,h),z=v;return $.columns=z.columns?d(z.columns,$,C+1):[],$})};return d(f)},y(e,"debugColumns")),getAllFlatColumns:N(()=>[r.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),y(e,"debugColumns")),_getAllFlatColumnsById:N(()=>[r.getAllFlatColumns()],f=>f.reduce((d,m)=>(d[m.id]=m,d),{}),y(e,"debugColumns")),getAllLeafColumns:N(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,d)=>{let m=f.flatMap(h=>h.getLeafColumns());return d(m)},y(e,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,p);for(let f=0;f<r._features.length;f++){const d=r._features[f];d==null||d.createTable==null||d.createTable(r)}return r}function ct(){return e=>N(()=>[e.options.data],i=>{const t={rows:[],flatRows:[],rowsById:{}},n=function(r,o,l){o===void 0&&(o=0);const a=[];for(let c=0;c<r.length;c++){const g=qt(e,e._getRowId(r[c],c,l),r[c],c,o,void 0,l==null?void 0:l.id);if(t.flatRows.push(g),t.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var u;g.originalSubRows=e.options.getSubRows(r[c],c),(u=g.originalSubRows)!=null&&u.length&&(g.subRows=n(g.originalSubRows,o+1,g))}}return a};return t.rows=n(i),t},y(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function An(e){const i=[],t=n=>{var r;i.push(n),(r=n.subRows)!=null&&r.length&&n.getIsExpanded()&&n.subRows.forEach(t)};return e.rows.forEach(t),{rows:i,flatRows:e.flatRows,rowsById:e.rowsById}}function dt(e){return i=>N(()=>[i.getState().pagination,i.getPrePaginationRowModel(),i.options.paginateExpandedRows?void 0:i.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:o}=t;let{rows:l,flatRows:a,rowsById:u}=n;const c=r*o,g=c+r;l=l.slice(c,g);let p;i.options.paginateExpandedRows?p={rows:l,flatRows:a,rowsById:u}:p=An({rows:l,flatRows:a,rowsById:u}),p.flatRows=[];const f=d=>{p.flatRows.push(d),d.subRows.length&&d.subRows.forEach(f)};return p.rows.forEach(f),p},y(i.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Fe(e,i){return e?Ln(e)?I.createElement(e,i):e:null}function Ln(e){return Fn(e)||typeof e=="function"||Tn(e)}function Fn(e){return typeof e=="function"&&(()=>{const i=Object.getPrototypeOf(e);return i.prototype&&i.prototype.isReactComponent})()}function Tn(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function gt(e){const i={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=I.useState(()=>({current:Pn(i)})),[n,r]=I.useState(()=>t.current.initialState);return t.current.setOptions(o=>({...o,...e,state:{...n,...e.state},onStateChange:l=>{r(l),e.onStateChange==null||e.onStateChange(l)}})),t.current}const be=[{accessorKey:"order_no",header:"订单号",cell:({row:e})=>s.jsx("div",{children:e.getValue("order_no")})},{accessorKey:"goods_name",header:"交易详情"},{accessorKey:"pay_time",header:"交易时间",cell:({row:e})=>{const i=e.getValue("pay_time");return i===0?s.jsx("div",{children:"-"}):s.jsx("div",{children:new Date(i*1e3).toLocaleString()})}},{accessorKey:"pay_price",header:"交易金额",cell:({row:e})=>{const i=e.getValue("pay_price");return s.jsxs("div",{children:["¥",(i/100).toFixed(2)]})}},{accessorKey:"pay_type",header:"支付方式"},{accessorKey:"status",header:"状态",cell:({row:e})=>{const i=Number(e.getValue("status")),t=zt[i];return t?s.jsx("div",{className:`${t.color} px-2.5 py-0 rounded-md text-center inline-block`,children:t.text}):s.jsx("div",{children:"未知状态"})}}],Vn=()=>{var c;const[e,i]=I.useState({pageIndex:0,pageSize:10}),{data:t,isLoading:n}=ce({queryKey:["userOrders",e.pageIndex,e.pageSize],queryFn:()=>Dt({page:e.pageIndex+1,page_size:e.pageSize}),staleTime:1e3*60*1,placeholderData:g=>g}),r=(t==null?void 0:t.data.list)??[],o=t?Math.ceil(t.data.total/t.data.page_size):0,l=gt({data:r,columns:be,getCoreRowModel:ct(),getPaginationRowModel:dt(),manualPagination:!0,pageCount:o,state:{pagination:e},onPaginationChange:i}),{pageIndex:a}=e,u=I.useMemo(()=>{const g=o,p=a,f=1;if(f+5>=g)return Array.from({length:g},(V,E)=>E);const m=Math.max(p-f,0),h=Math.min(p+f,g-1),C=m>1,v=h<g-2,$=0,z=g-1;if(!C&&v){const V=3+2*f;return[...Array.from({length:V},(w,A)=>A),"...",z]}if(C&&!v){const V=3+2*f,E=Array.from({length:V},(w,A)=>z-A).reverse();return[$,"...",...E]}if(C&&v){const V=Array.from({length:h-m+1},(E,w)=>m+w);return[$,"...",...V,"...",z]}return[]},[a,o]);return s.jsxs("div",{children:[s.jsxs(Gt,{className:"overflow-hidden bg-b5",children:[s.jsx(Yt,{children:l.getHeaderGroups().map(g=>s.jsx(ge,{children:g.headers.map(p=>s.jsx(Wt,{className:"bg-b5",children:p.isPlaceholder?null:Fe(p.column.columnDef.header,p.getContext())},p.id))},g.id))}),s.jsx(Bt,{children:n?s.jsx(ge,{children:s.jsx(ve,{colSpan:be.length,className:"h-24 text-center bg-b5",children:"加载中..."})}):(c=l.getRowModel().rows)!=null&&c.length?l.getRowModel().rows.map(g=>s.jsx(ge,{"data-state":g.getIsSelected()&&"selected",className:"bg-b5",children:g.getVisibleCells().map(p=>s.jsx(ve,{className:"bg-b5",children:Fe(p.column.columnDef.cell,p.getContext())},p.id))},g.id)):s.jsx(ge,{children:s.jsx(ve,{colSpan:be.length,className:"h-24 text-center bg-b5",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-b65 py-5",children:[s.jsx(et,{className:"h-7 w-7"}),s.jsx("span",{className:"text-xs",children:"暂无购买记录"})]})})})})]}),l.getRowModel().rows.length>0&&s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(J,{variant:"ghost",className:F("w-8 h-8 rounded-full","bg-b5 hover:bg-b8 disabled:bg-b20 backdrop-blur-lg","border border-solid border-b10 disabled:border-b20","flex items-center justify-center"),onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:s.jsx(qe,{className:"text-white opacity-65"})}),u.map((g,p)=>typeof g=="string"?s.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-b100 opacity-65",children:"..."},`ellipsis-${p}`):s.jsx(J,{variant:"ghost",className:F("relative w-8 h-8 rounded-full bg-b5 backdrop-blur-lg","text-b65 transition-colors duration-300","border border-solid border-b10","hover:bg-b8 hover:text-b70",'before:content-[""] before:absolute before:inset-0 before:z-[-1] before:rounded-full',"before:bg-b5",l.getState().pagination.pageIndex===g&&"text-white before:bg-[linear-gradient(194deg,rgba(178,252,255,0.08)_27.97%,rgba(178,252,255,0.40)_87.26%)]"),onClick:()=>l.setPageIndex(g),children:g+1},g)),s.jsx(J,{variant:"ghost",className:F("w-8 h-8 rounded-full","bg-b5 hover:bg-b8 disabled:bg-b20 backdrop-blur-lg","border border-solid border-b10 disabled:border-b20","flex items-center justify-center"),onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:s.jsx(Ke,{className:"text-white opacity-65"})})]})]})},He=()=>s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"warning-icon-title",children:[s.jsx("title",{id:"warning-icon-title",children:"Warning Icon"}),s.jsx("g",{clipPath:"url(#clip0_1458_5901)",children:s.jsx("path",{d:"M7.99967 5.33325V7.99992M7.99967 10.6666H8.00634M14.6663 7.99992C14.6663 11.6818 11.6815 14.6666 7.99967 14.6666C4.31778 14.6666 1.33301 11.6818 1.33301 7.99992C1.33301 4.31802 4.31778 1.33325 7.99967 1.33325C11.6815 1.33325 14.6663 4.31802 14.6663 7.99992Z",stroke:"#BAD7F5",strokeOpacity:"0.4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("defs",{children:s.jsx("clipPath",{id:"clip0_1458_5901",children:s.jsx("rect",{width:"16",height:"16",fill:"white"})})})]});var he={exports:{}},En=he.exports,Ue;function On(){return Ue||(Ue=1,(function(e,i){(function(t,n){e.exports=n()})(En,(function(){var t=1e3,n=6e4,r=36e5,o="millisecond",l="second",a="minute",u="hour",c="day",g="week",p="month",f="quarter",d="year",m="date",h="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var S=["th","st","nd","rd"],x=R%100;return"["+R+(S[(x-20)%10]||S[x]||S[0])+"]"}},z=function(R,S,x){var j=String(R);return!j||j.length>=S?R:""+Array(S+1-j.length).join(x)+R},V={s:z,z:function(R){var S=-R.utcOffset(),x=Math.abs(S),j=Math.floor(x/60),M=x%60;return(S<=0?"+":"-")+z(j,2,"0")+":"+z(M,2,"0")},m:function R(S,x){if(S.date()<x.date())return-R(x,S);var j=12*(x.year()-S.year())+(x.month()-S.month()),M=S.clone().add(j,p),b=x-M<0,D=S.clone().add(j+(b?-1:1),p);return+(-(j+(x-M)/(b?M-D:D-M))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:p,y:d,w:g,d:c,D:m,h:u,m:a,s:l,ms:o,Q:f}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},E="en",w={};w[E]=$;var A="$isDayjsObject",G=function(R){return R instanceof re||!(!R||!R[A])},H=function R(S,x,j){var M;if(!S)return E;if(typeof S=="string"){var b=S.toLowerCase();w[b]&&(M=b),x&&(w[b]=x,M=b);var D=S.split("-");if(!M&&D.length>1)return R(D[0])}else{var L=S.name;w[L]=S,M=L}return!j&&M&&(E=M),M||!j&&E},T=function(R,S){if(G(R))return R.clone();var x=typeof S=="object"?S:{};return x.date=R,x.args=arguments,new re(x)},_=V;_.l=H,_.i=G,_.w=function(R,S){return T(R,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var re=(function(){function R(x){this.$L=H(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[A]=!0}var S=R.prototype;return S.parse=function(x){this.$d=(function(j){var M=j.date,b=j.utc;if(M===null)return new Date(NaN);if(_.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var D=M.match(C);if(D){var L=D[2]-1||0,O=(D[7]||"0").substring(0,3);return b?new Date(Date.UTC(D[1],L,D[3]||1,D[4]||0,D[5]||0,D[6]||0,O)):new Date(D[1],L,D[3]||1,D[4]||0,D[5]||0,D[6]||0,O)}}return new Date(M)})(x),this.init()},S.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},S.$utils=function(){return _},S.isValid=function(){return this.$d.toString()!==h},S.isSame=function(x,j){var M=T(x);return this.startOf(j)<=M&&M<=this.endOf(j)},S.isAfter=function(x,j){return T(x)<this.startOf(j)},S.isBefore=function(x,j){return this.endOf(j)<T(x)},S.$g=function(x,j,M){return _.u(x)?this[j]:this.set(M,x)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(x,j){var M=this,b=!!_.u(j)||j,D=_.p(x),L=function(ie,W){var q=_.w(M.$u?Date.UTC(M.$y,W,ie):new Date(M.$y,W,ie),M);return b?q:q.endOf(c)},O=function(ie,W){return _.w(M.toDate()[ie].apply(M.toDate("s"),(b?[0,0,0,0]:[23,59,59,999]).slice(W)),M)},k=this.$W,Y=this.$M,U=this.$D,se="set"+(this.$u?"UTC":"");switch(D){case d:return b?L(1,0):L(31,11);case p:return b?L(1,Y):L(0,Y+1);case g:var ne=this.$locale().weekStart||0,oe=(k<ne?k+7:k)-ne;return L(b?U-oe:U+(6-oe),Y);case c:case m:return O(se+"Hours",0);case u:return O(se+"Minutes",1);case a:return O(se+"Seconds",2);case l:return O(se+"Milliseconds",3);default:return this.clone()}},S.endOf=function(x){return this.startOf(x,!1)},S.$set=function(x,j){var M,b=_.p(x),D="set"+(this.$u?"UTC":""),L=(M={},M[c]=D+"Date",M[m]=D+"Date",M[p]=D+"Month",M[d]=D+"FullYear",M[u]=D+"Hours",M[a]=D+"Minutes",M[l]=D+"Seconds",M[o]=D+"Milliseconds",M)[b],O=b===c?this.$D+(j-this.$W):j;if(b===p||b===d){var k=this.clone().set(m,1);k.$d[L](O),k.init(),this.$d=k.set(m,Math.min(this.$D,k.daysInMonth())).$d}else L&&this.$d[L](O);return this.init(),this},S.set=function(x,j){return this.clone().$set(x,j)},S.get=function(x){return this[_.p(x)]()},S.add=function(x,j){var M,b=this;x=Number(x);var D=_.p(j),L=function(Y){var U=T(b);return _.w(U.date(U.date()+Math.round(Y*x)),b)};if(D===p)return this.set(p,this.$M+x);if(D===d)return this.set(d,this.$y+x);if(D===c)return L(1);if(D===g)return L(7);var O=(M={},M[a]=n,M[u]=r,M[l]=t,M)[D]||1,k=this.$d.getTime()+x*O;return _.w(k,this)},S.subtract=function(x,j){return this.add(-1*x,j)},S.format=function(x){var j=this,M=this.$locale();if(!this.isValid())return M.invalidDate||h;var b=x||"YYYY-MM-DDTHH:mm:ssZ",D=_.z(this),L=this.$H,O=this.$m,k=this.$M,Y=M.weekdays,U=M.months,se=M.meridiem,ne=function(W,q,le,de){return W&&(W[q]||W(j,b))||le[q].slice(0,de)},oe=function(W){return _.s(L%12||12,W,"0")},ie=se||function(W,q,le){var de=W<12?"AM":"PM";return le?de.toLowerCase():de};return b.replace(v,(function(W,q){return q||(function(le){switch(le){case"YY":return String(j.$y).slice(-2);case"YYYY":return _.s(j.$y,4,"0");case"M":return k+1;case"MM":return _.s(k+1,2,"0");case"MMM":return ne(M.monthsShort,k,U,3);case"MMMM":return ne(U,k);case"D":return j.$D;case"DD":return _.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return ne(M.weekdaysMin,j.$W,Y,2);case"ddd":return ne(M.weekdaysShort,j.$W,Y,3);case"dddd":return Y[j.$W];case"H":return String(L);case"HH":return _.s(L,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ie(L,O,!0);case"A":return ie(L,O,!1);case"m":return String(O);case"mm":return _.s(O,2,"0");case"s":return String(j.$s);case"ss":return _.s(j.$s,2,"0");case"SSS":return _.s(j.$ms,3,"0");case"Z":return D}return null})(W)||D.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(x,j,M){var b,D=this,L=_.p(j),O=T(x),k=(O.utcOffset()-this.utcOffset())*n,Y=this-O,U=function(){return _.m(D,O)};switch(L){case d:b=U()/12;break;case p:b=U();break;case f:b=U()/3;break;case g:b=(Y-k)/6048e5;break;case c:b=(Y-k)/864e5;break;case u:b=Y/r;break;case a:b=Y/n;break;case l:b=Y/t;break;default:b=Y}return M?b:_.a(b)},S.daysInMonth=function(){return this.endOf(p).$D},S.$locale=function(){return w[this.$L]},S.locale=function(x,j){if(!x)return this.$L;var M=this.clone(),b=H(x,j,!0);return b&&(M.$L=b),M},S.clone=function(){return _.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},R})(),Se=re.prototype;return T.prototype=Se,[["$ms",o],["$s",l],["$m",a],["$H",u],["$W",c],["$M",p],["$y",d],["$D",m]].forEach((function(R){Se[R[1]]=function(S){return this.$g(S,R[0],R[1])}})),T.extend=function(R,S){return R.$i||(R(S,re,T),R.$i=!0),T},T.locale=H,T.isDayjs=G,T.unix=function(R){return T(1e3*R)},T.en=w[E],T.Ls=w,T.p={},T}))})(he)),he.exports}var Hn=On();const Qe=pt(Hn),kn=[{accessorKey:"game",cell:({row:e})=>s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx("img",{src:e.original.cover_image,alt:e.original.name,className:"w-[99px] h-[46px] rounded-lg"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("p",{className:"text-b100 text-sm",children:e.original.name}),s.jsxs("p",{className:"text-b40 text-xs",children:[Qe.unix(e.original.start_time).format("YYYY.MM.DD HH:mm")," -"," ",Qe.unix(e.original.end_time).format("YYYY.MM.DD HH:mm")]})]})]})},{accessorKey:"duration",cell:({row:e})=>{console.log(e.original,"********");const i=Math.floor(e.original.use_time/3600),t=Math.floor(e.original.use_time%3600/60),n=Math.floor(e.original.remaining_duration/3600),r=Math.floor(e.original.remaining_duration%3600/60);return s.jsxs("div",{className:"flex flex-col gap-1.5 items-end",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("p",{className:"text-b100 text-sm",children:["-",i," 小时 ",t," 分钟"]}),s.jsx(He,{})]}),s.jsxs("p",{className:"text-b40 text-xs",children:["剩余时长 ",n," 小时 ",r," 分钟"]})]})}}],Gn=()=>{const[e,i]=I.useState({pageIndex:0,pageSize:5}),{data:t,isLoading:n,isFetching:r}=ce({queryKey:["cloudGameLogs",e.pageIndex,e.pageSize],queryFn:async({queryKey:a})=>{const[,u,c]=a;return(await $t({page:u+1,page_size:c})).data},placeholderData:a=>a,staleTime:1e3*60*1}),o=gt({data:(t==null?void 0:t.list)??[],columns:kn,getCoreRowModel:ct(),getPaginationRowModel:dt(),manualPagination:!0,pageCount:t!=null&&t.page?Math.ceil(t.total/t.page_size):-1,state:{pagination:e},onPaginationChange:i}),l=I.useMemo(()=>{const a=o.getPageCount(),u=o.getState().pagination.pageIndex,c=1;if(c+5>=a)return Array.from({length:a},(v,$)=>$);const p=Math.max(u-c,0),f=Math.min(u+c,a-1),d=p>1,m=f<a-2,h=0,C=a-1;if(!d&&m){const v=3+2*c;return[...Array.from({length:v},(z,V)=>V),"...",C]}if(d&&!m){const v=3+2*c,$=Array.from({length:v},(z,V)=>C-V).reverse();return[h,"...",...$]}if(d&&m){const v=Array.from({length:f-p+1},($,z)=>p+z);return[h,"...",...v,"...",C]}return[]},[o.getState().pagination.pageIndex,o.getPageCount()]);return s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsx("div",{className:"bg-b5 rounded-2xl",children:n&&!r?s.jsx("div",{className:"text-center p-10",children:"Loading..."}):o.getRowModel().rows.length>0?o.getRowModel().rows.map((a,u)=>s.jsx("div",{className:F("flex items-center justify-between px-4 py-5",u!==0&&"border-t border-b5"),children:a.getVisibleCells().map(c=>s.jsx("div",{children:Fe(c.column.columnDef.cell,c.getContext())},c.id))},a.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-b65 py-5",children:[s.jsx(et,{className:"h-7 w-7"}),s.jsx("span",{className:"text-xs",children:"暂无时长使用明细"})]})}),(t==null?void 0:t.list)&&t.list.length>0&&s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(J,{variant:"ghost",className:F("w-8 h-8 rounded-full","bg-b5 hover:bg-b8 disabled:bg-b20 backdrop-blur-lg","border border-solid border-b10 disabled:border-b20","flex items-center justify-center"),onClick:()=>o.previousPage(),disabled:!o.getCanPreviousPage(),children:s.jsx(qe,{className:"text-white opacity-65"})}),l.map((a,u)=>typeof a=="string"?s.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-b100 opacity-65",children:"..."},`ellipsis-${a}-${u}`):s.jsx(J,{variant:"ghost",className:F("relative w-8 h-8 rounded-full bg-b5 backdrop-blur-lg","text-b65 transition-colors duration-300","border border-solid border-b10","hover:bg-b8 hover:text-b70",'before:content-[""] before:absolute before:inset-0 before:z-[-1] before:rounded-full',"before:bg-b5",o.getState().pagination.pageIndex===a&&"text-white before:bg-[linear-gradient(194deg,rgba(178,252,255,0.08)_27.97%,rgba(178,252,255,0.40)_87.26%)]"),onClick:()=>o.setPageIndex(a),children:a+1},a)),s.jsx(J,{variant:"ghost",className:F("w-8 h-8 rounded-full","bg-b5 hover:bg-b8 disabled:bg-b20 backdrop-blur-lg","border border-solid border-b10 disabled:border-b20","flex items-center justify-center"),onClick:()=>o.nextPage(),disabled:!o.getCanNextPage(),children:s.jsx(Ke,{className:"text-white opacity-65"})})]})]})},Yn=()=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-[32px] leading-[46px] text-[var(--Title)] font-black",children:"服务中心"}),s.jsxs("div",{className:F("flex items-center gap-3","text-b65 text-sm"),children:[s.jsxs(De,{children:[s.jsx(_e,{asChild:!0,children:s.jsxs("button",{type:"button",className:"flex items-center gap-2 cursor-pointer border-none bg-transparent",children:[s.jsx(xe,{}),s.jsx("span",{children:"购买记录"})]})}),s.jsxs(Ge,{className:"w-[1000px] bg-floating-60 backdrop-blur-[20px]",children:[s.jsx(Ye,{className:"text-left",children:s.jsx(Be,{children:"购买记录"})}),s.jsx(Vn,{})]})]}),s.jsxs(De,{children:[s.jsx(_e,{asChild:!0,children:s.jsxs("button",{type:"button",className:"flex items-center gap-2 cursor-pointer border-none bg-transparent",children:[s.jsx(xe,{}),s.jsx("span",{children:"时长使用明细"})]})}),s.jsxs(Ge,{className:"w-[800px] bg-floating-60",children:[s.jsx(Ye,{className:"text-left",children:s.jsx(Be,{children:"时长使用明细"})}),s.jsx(Gn,{})]})]})]})]}),Bn=()=>{const e=mt(C=>C.currentUser),i=Te(C=>C.account),t=I.useId(),[n,r]=I.useState(!1),[o,l]=I.useState(!1),[a,u]=I.useState(!1),[c,g]=I.useState("点击复制ID"),p=I.useId(),f=I.useId(),d=I.useCallback(()=>{const C=(e==null?void 0:e.id)||"--";try{ht(String(C)),g("复制成功!"),setTimeout(()=>{g("点击复制ID")},2e3)}catch(v){console.error("Failed to copy: ",v),g("复制失败!"),setTimeout(()=>{g("点击复制ID")},2e3)}},[e==null?void 0:e.id]),m=I.useCallback(()=>{e&&l(!0)},[e]),h=C=>{if(C<0)return"0 分钟";const v=Math.floor(C/3600),$=Math.floor(C%3600/60);return`${v} 小时 ${$} 分钟`};return s.jsxs("div",{className:F("bg-b5 box-border","flex items-center justify-between p-5 rounded-2xl","border border-b10"),children:[s.jsxs("div",{className:"flex items-center gap-3 w-80",children:[s.jsxs(De,{open:o,onOpenChange:l,children:[s.jsx(_e,{asChild:!0,children:s.jsxs("button",{type:"button",className:"relative shrink-0 size-11 cursor-pointer","data-name":"Avatar 头像",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),disabled:!e,onClick:m,children:[s.jsx(xt,{className:"size-11"}),n&&e&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[var(--floating)] bg-opacity-60 rounded-full cursor-pointer text-xs pointer-events-none text-b100",children:"修改"})]})}),s.jsx(Mt,{open:o,onOpenChange:l})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-bold text-b100 text-sm",children:(e==null?void 0:e.nickname)||"游客（未登录）"}),e&&s.jsx("button",{type:"button",className:"cursor-pointer p-0 m-0 border-none bg-transparent flex items-center justify-center overflow-clip relative shrink-0 size-4 text-b50 hover:text-b100 transition-colors","aria-label":"修改昵称",onClick:()=>u(!0),"data-tooltip-id":f,children:s.jsx(St,{className:"size-4"})}),s.jsx(K,{id:f,content:vt.changeNickname})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("p",{className:"text-[12px] text-b65",children:["用户ID：",(e==null?void 0:e.id)||"--"]}),s.jsx("button",{type:"button",className:"cursor-pointer p-0 m-0 border-none bg-transparent flex items-center justify-center overflow-clip relative shrink-0 size-4","data-tooltip-id":p,"aria-label":"复制用户ID",onClick:d,children:s.jsx("img",{alt:"Copy Icon",className:"block max-w-none size-full",src:wt})}),s.jsx(K,{id:p,content:c})]})]})]}),s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:"text-xs text-b65",children:"赠送的时长"}),s.jsx("div",{"data-tooltip-id":t,"data-tooltip-content":"暂无赠送时长",className:"cursor-pointer",children:s.jsx(He,{})}),s.jsx(K,{id:t})]}),s.jsx("p",{className:"font-bold text-base text-b100",children:"0 分钟"})]}),s.jsx("div",{className:"w-px h-[42px] bg-b20"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("p",{className:"text-xs text-b65",children:"我购买的时长"}),s.jsx("p",{className:"font-bold text-base text-b100",children:i?h(i.cloudTimer):"0 分钟"})]})]}),a&&s.jsx(Ct,{open:a,onOpenChange:u})]})},Wn=({goodsId:e})=>{const[i,t]=I.useState("alipay"),n=jt(),{data:r,isLoading:o,isError:l,error:a}=ce({queryKey:["qrCode",e,i],queryFn:()=>e?_t({goods_id:e,pay_type:i}):Promise.resolve(null),enabled:!!e,refetchInterval:900*1e3});I.useEffect(()=>{e&&n.invalidateQueries({queryKey:["qrCode",e,i]})},[e,i,n]);const u={initial:{top:"-40%"},animate:{top:"100%"}};return s.jsxs("div",{className:F("bg-floating-30 rounded-2xl","flex flex-col items-center gap-5 p-5"),children:[s.jsxs("div",{className:"w-full flex justify-center gap-3",children:[s.jsx(It,{selected:i==="alipay",onClick:()=>t("alipay")}),s.jsx(Nt,{selected:i==="wechat",onClick:()=>t("wechat")})]}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 text-sm font-bold leading-5 text-[var(--Title)]",children:i==="alipay"?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:Pt,alt:"支付宝支付",className:"w-5"}),s.jsx("span",{children:"支付宝扫码支付"})]}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:At,alt:"支付宝支付",className:"w-5"}),s.jsx("span",{children:"微信扫码支付"})]})}),s.jsxs("div",{className:"relative w-[164px] h-[164px] rounded-2xl bg-b5 flex items-center justify-center overflow-hidden",children:[o&&s.jsx("div",{className:"text-white",children:"加载中..."}),l&&s.jsxs("div",{className:"text-red-500",children:["加载失败: ",a==null?void 0:a.message]}),(r==null?void 0:r.data)&&s.jsxs("div",{className:"relative w-[144px] h-[144px] bg-white p-2 rounded-lg",children:[s.jsx(Lt,{value:r.data,size:128,style:{height:"auto",maxWidth:"100%",width:"100%"}}),s.jsx("img",{src:"/images/gamesir.png",alt:"Payment Icon",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-white p-0.5"})]}),!o&&!l&&!(r!=null&&r.data)&&e&&s.jsx("div",{className:"text-white",children:"无法生成二维码"}),!e&&s.jsx("div",{className:"text-white",children:"请先选择一个充值套餐"}),s.jsx(yt.div,{className:"absolute left-0 w-[164px] h-10 bg-gradient-to-b from-[#b2fcff00] to-[#b2fcff]",variants:u,initial:"initial",animate:"animate",transition:{duration:2.5,ease:"linear",repeat:1/0}}),s.jsx("img",{src:Ft,alt:"四个角高亮",className:"absolute top-0 left-0 w-full h-full"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3 text-b100 text-xs",children:[s.jsx("span",{children:"支付剩余时长"}),s.jsx(Tt,{seconds:900,onComplete:()=>{Xe.warning("支付超时，支付二维码将刷新"),n.invalidateQueries({queryKey:["qrCode",e,i]})}},r==null?void 0:r.data)]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px]",children:[s.jsx("span",{className:"text-b100",children:"扫码支付完成则代表同意"}),s.jsxs(Rt,{to:"https://gamesirworld.feishu.cn/wiki/WsntwN4OfisT74k4nZecEbldn0b",target:"_blank",children:["《",s.jsx("span",{className:"underline",children:"盖世游戏交易服务条款"}),"》"]})]})]})]})},Zn="data:image/svg+xml,%3csvg%20width='8'%20height='44'%20viewBox='0%200%208%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2022L0%2044V0L8%2022Z'%20fill='url(%23paint0_linear_6642_13776)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_6642_13776'%20x1='8'%20y1='22'%20x2='0.000832108'%20y2='21.9184'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B2FCFF'%20stop-opacity='0.4'/%3e%3cstop%20offset='1'%20stop-color='%23B2FCFF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Un="data:image/svg+xml,%3csvg%20width='106'%20height='70'%20viewBox='0%200%20106%2070'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M93.0635%200.497437C99.9508%200.497618%20105.534%206.0808%20105.534%2012.9681V81.9427C105.534%2085.7534%20101.221%2087.9644%2098.127%2085.7396L76.8271%2070.4213C76.0318%2069.8494%2075.0763%2069.5414%2074.0967%2069.5414H31.5117C30.5339%2069.5414%2029.5808%2069.8485%2028.7861%2070.4183L7.40234%2085.7562C4.30803%2087.9759%200%2085.7645%200%2081.9564V12.9681C0%206.08071%205.58328%200.497474%2012.4707%200.497437H93.0635ZM33.2803%2023.9584C30.5785%2023.9585%2029.2275%2025.3092%2029.2275%2028.0111V31.5179H25.7207C23.0189%2031.518%2021.668%2032.8697%2021.668%2035.5717C21.6681%2038.2733%2023.019%2039.6243%2025.7207%2039.6244H29.2275V43.1322C29.2277%2045.8338%2030.5786%2047.1848%2033.2803%2047.1849C35.9821%2047.1849%2037.3338%2045.8339%2037.334%2043.1322V39.6244H40.8418C43.5437%2039.6244%2044.8944%2038.2734%2044.8945%2035.5717C44.8945%2032.8697%2043.5438%2031.518%2040.8418%2031.5179H37.334V28.0111C37.334%2025.3091%2035.9823%2023.9584%2033.2803%2023.9584ZM68.4326%2031.5179C65.7308%2031.518%2064.3799%2032.8697%2064.3799%2035.5717C64.38%2038.2733%2065.7309%2039.6243%2068.4326%2039.6244H80.9033C83.6052%2039.6244%2084.9569%2038.2734%2084.957%2035.5717C84.957%2032.8697%2083.6053%2031.5179%2080.9033%2031.5179H68.4326Z'%20fill='%23bad7f510'/%3e%3c/svg%3e",Qn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA0MCA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgMTUuMzAyM0w1LjA5NTI0IDcuMDYyNThMMTkuNjk4NCAwSDI3TDIwLjI4MjUgNTJIMTEuNjY2N0wxNy4yMTU5IDkuMjA5MDZMNCAxNS4zMDIzWiIgZmlsbD0iI0JBRDdGNSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPGZvcmVpZ25PYmplY3QgeD0iMTAiIHk9IjI2IiB3aWR0aD0iMzUiIGhlaWdodD0iMzUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJiYWNrZHJvcC1maWx0ZXI6Ymx1cig0LjVweCk7Y2xpcC1wYXRoOnVybCgjYmdibHVyXzBfNjY0Ml8xMzcxOF9jbGlwX3BhdGgpO2hlaWdodDoxMDAlO3dpZHRoOjEwMCUiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48cmVjdCBkYXRhLWZpZ21hLWJnLWJsdXItcmFkaXVzPSI5IiB4PSIxOS41IiB5PSIzNS41IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSI4IiBmaWxsPSIjQkFEN0Y1IiBmaWxsLW9wYWNpdHk9IjAuMDUiIHN0cm9rZT0idXJsKCNwYWludDBfbGluZWFyXzY2NDJfMTM3MTgpIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImJnYmx1cl8wXzY2NDJfMTM3MThfY2xpcF9wYXRoIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTAgLTI2KSI+PHJlY3QgeD0iMTkuNSIgeT0iMzUuNSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iOCIvPgo8L2NsaXBQYXRoPjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl82NjQyXzEzNzE4IiB4MT0iMjcuNSIgeTE9IjM1IiB4Mj0iMjcuNSIgeTI9IjUyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNCQUQ3RjUiIHN0b3Atb3BhY2l0eT0iMC4xNSIvPgo8c3RvcCBvZmZzZXQ9IjAuMjk4NjI0IiBzdG9wLWNvbG9yPSIjQkFEN0Y1IiBzdG9wLW9wYWNpdHk9IjAuMDIiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",Xn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA0MCA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2Ljk3NSAxNS4wMjUzQzI3LjE5OTcgMTIuNjcxMSAyNi42MTUzIDEwLjg0NzggMjUuMjIxNiA5LjU1NTI2QzIzLjg3MjggOC4yNjI3NiAyMS42OTI0IDcuNjE2NTEgMTguNjgwMiA3LjYxNjUxQzE0LjM2NDIgNy42MTY1MSAxMC4yNzMgNy45NjI3MiA2LjQwNjU1IDguNjU1MTNMNy4zNTA2NyAwLjgzMDg5NUMxMS42NjY3IDAuMjc2OTY2IDE1LjczNTQgMCAxOS41NTY4IDBDMjQuNzcyIDAgMjguNjM4NCAxLjI0NjM0IDMxLjE1NjEgMy43MzkwMkMzMy43MTg3IDYuMjMxNjkgMzUgOS4zOTM2OSAzNSAxMy4yMjVDMzUgMTMuOTYzNiAzNC45Nzc1IDE0LjUxNzUgMzQuOTMyNiAxNC44ODY4QzM0LjU3MjkgMTcuNzk0OSAzMy44MDg2IDIwLjIxODQgMzIuNjM5NyAyMi4xNTcxQzMxLjQ3MDggMjQuMDk1OSAyOS45MTk3IDI1Ljc1NzcgMjcuOTg2NSAyNy4xNDI1QzI2LjA1MzMgMjguNDgxMSAyMy40OTA3IDI5Ljg4OSAyMC4yOTg3IDMxLjM2NjJDMTguMDA1OCAzMi40Mjc5IDE2LjA5NTEgMzMuNDY2NSAxNC41NjY1IDM0LjQ4MkMxMy4wODI5IDM1LjQ5NzYgMTEuODI0IDM2LjgxMzEgMTAuNzkgMzguNDI4OEM5Ljc1NTk0IDQwLjA0NDQgOS4wODE1NyA0Mi4wMjkzIDguNzY2ODYgNDQuMzgzNUgzMS4wODg2TDMwLjIxMTkgNTJIMEwxLjAxMTU2IDQ0LjM4MzVDMS43MzA4OSAzOS42NzUxIDMuNTA2NzQgMzUuNzk3NiA2LjMzOTExIDMyLjc1MUM5LjIxNjQ0IDI5LjY1ODIgMTIuNTg4MyAyNy4yNTc5IDE2LjQ1NDcgMjUuNTQ5OUMxOS4wNjIzIDI0LjM0OTggMjAuOTczIDIzLjQwMzUgMjIuMTg2OSAyMi43MTExQzIzLjQ0NTcgMjEuOTcyNSAyNC41MDIyIDIxLjAwMzEgMjUuMzU2NSAxOS44MDI5QzI2LjIxMDcgMTguNjAyOCAyNi43NTAyIDE3LjAxMDIgMjYuOTc1IDE1LjAyNTNaIiBmaWxsPSIjQkFEN0Y1IiBmaWxsLW9wYWNpdHk9IjAuMiIvPgo8Zm9yZWlnbk9iamVjdCB4PSIyMCIgeT0iMzIiIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImJhY2tkcm9wLWZpbHRlcjpibHVyKDEuNXB4KTtjbGlwLXBhdGg6dXJsKCNiZ2JsdXJfMF82NjQyXzEzNzIxX2NsaXBfcGF0aCk7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJSI+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjxyZWN0IGRhdGEtZmlnbWEtYmctYmx1ci1yYWRpdXM9IjMiIHg9IjIzLjUiIHk9IjM1LjUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgcng9IjgiIGZpbGw9IiNCQUQ3RjUiIGZpbGwtb3BhY2l0eT0iMC4wNSIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfNjY0Ml8xMzcyMSkiLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iYmdibHVyXzBfNjY0Ml8xMzcyMV9jbGlwX3BhdGgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMCAtMzIpIj48cmVjdCB4PSIyMy41IiB5PSIzNS41IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSI4Ii8+CjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzY2NDJfMTM3MjEiIHgxPSIzMS41IiB5MT0iMzUiIHgyPSIzMS41IiB5Mj0iNTIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0JBRDdGNSIgc3RvcC1vcGFjaXR5PSIwLjE1Ii8+CjxzdG9wIG9mZnNldD0iMC4yOTg2MjQiIHN0b3AtY29sb3I9IiNCQUQ3RjUiIHN0b3Atb3BhY2l0eT0iMC4wMiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=",Jn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA0MCA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4LjA5OTIgMEMyNC4zOTA0IDAgMjguODUwNyAxLjEzMDk0IDMxLjQ3OTggMy4zOTI4MUMzNC4xNTYgNS42MDg1MiAzNS4zMDYzIDguOTc4MjUgMzQuOTMwNyAxMy41MDJMMzQuNzE5NCAxNS44NTYyQzM0LjI0OTkgMjAuMjQxNSAzMS44NTU0IDIzLjMxMTEgMjcuNTM2MSAyNS4wNjUyQzMxLjcxNDYgMjYuNTg4NSAzMy44MDM5IDI5Ljc5NjcgMzMuODAzOSAzNC42ODk3QzMzLjgwMzkgMzUuMTA1MiAzMy43NTY5IDM1Ljg2NjggMzMuNjYzIDM2Ljk3NDdMMzMuNDUxNyAzOC45MTM0QzMyLjg0MTQgNDMuNDM3MiAzMC44Njk1IDQ2Ljc2MDggMjcuNTM2MSA0OC44ODQyQzI0LjI0OTYgNTAuOTYxNCAxOS40NjA3IDUyIDEzLjE2OTQgNTJDOS4zMTk1NCA1MiA0LjkyOTczIDUxLjcyMyAwIDUxLjE2OTFMMC45ODU5NDYgNDMuNTUyNkMzLjg5NjgzIDQzLjg3NTcgNi4xNzM5IDQ0LjEwNjUgNy44MTcxNCA0NC4yNDVDOS41MDczNCA0NC4zMzczIDExLjU5NjYgNDQuMzgzNSAxNC4wODQ5IDQ0LjM4MzVDMTcuODQwOSA0NC4zODM1IDIwLjU0MDUgNDMuODk4OCAyMi4xODM4IDQyLjkyOTRDMjMuODI3IDQxLjk2MDEgMjQuODEzIDQwLjM5MDYgMjUuMTQxNiAzOC4yMjFMMjUuMzUyOSAzNi4yODIzQzI1LjM5OTggMzYuMDA1MyAyNS40MjMzIDM1LjYxMyAyNS40MjMzIDM1LjEwNTJDMjUuNDIzMyAzMy4wMjggMjQuNzQyNiAzMS41Mjc3IDIzLjM4MSAzMC42MDQ1QzIyLjAxOTUgMjkuNjgxMyAxOS44MzYzIDI5LjE5NjYgMTYuODMxNSAyOS4xNTA1SDcuMjUzNzVMOC4xNjkyNyAyMS43NDE3SDE3LjYwNjJDMjAuMjgyMyAyMS42OTU1IDIyLjM0ODEgMjEuMjMzOSAyMy44MDM2IDIwLjM1NjlDMjUuMjU5IDE5LjQzMzYgMjYuMTUxIDE3LjkzMzQgMjYuNDc5NyAxNS44NTYyTDI2LjY5MSAxMy42NDA1TDI2Ljc2MTQgMTIuODA5NkMyNi43NjE0IDExLjE0NzggMjYuMDU3MSA5Ljg3ODM4IDI0LjY0ODcgOS4wMDEzM0MyMy4yODcxIDguMDc4MTIgMjAuODIyMiA3LjYxNjUxIDE3LjI1NDEgNy42MTY1MUMxMi44ODc3IDcuNjE2NTEgOC42NjIyNCA3Ljc3ODA3IDQuNTc3NjEgOC4xMDEyTDUuNTYzNTUgMC4zNDYyMDZDOS40NjAzOSAwLjExNTQwMyAxMy42Mzg5IDAgMTguMDk5MiAwWiIgZmlsbD0iI0JBRDdGNSIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPGZvcmVpZ25PYmplY3QgeD0iMjAiIHk9IjMyIiB3aWR0aD0iMjMiIGhlaWdodD0iMjMiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJiYWNrZHJvcC1maWx0ZXI6Ymx1cigxLjVweCk7Y2xpcC1wYXRoOnVybCgjYmdibHVyXzBfNjY0Ml8xMzcyM19jbGlwX3BhdGgpO2hlaWdodDoxMDAlO3dpZHRoOjEwMCUiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48cmVjdCBkYXRhLWZpZ21hLWJnLWJsdXItcmFkaXVzPSIzIiB4PSIyMy41IiB5PSIzNS41IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSI4IiBmaWxsPSIjQkFEN0Y1IiBmaWxsLW9wYWNpdHk9IjAuMDUiIHN0cm9rZT0idXJsKCNwYWludDBfbGluZWFyXzY2NDJfMTM3MjMpIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImJnYmx1cl8wXzY2NDJfMTM3MjNfY2xpcF9wYXRoIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAgLTMyKSI+PHJlY3QgeD0iMjMuNSIgeT0iMzUuNSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iOCIvPgo8L2NsaXBQYXRoPjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl82NjQyXzEzNzIzIiB4MT0iMzEuNSIgeTE9IjM1IiB4Mj0iMzEuNSIgeTI9IjUyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNCQUQ3RjUiIHN0b3Atb3BhY2l0eT0iMC4xNSIvPgo8c3RvcCBvZmZzZXQ9IjAuMjk4NjI0IiBzdG9wLWNvbG9yPSIjQkFEN0Y1IiBzdG9wLW9wYWNpdHk9IjAuMDIiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",qn=()=>{const e=[{number:"1",title:"时长充值",description:"云游戏服务需消耗服务器和带宽资源，充值后可抵扣游戏时长",svg:Qn},{number:"2",title:"使用方式",description:"通过“秒玩”按钮启动云游戏，启动后按分钟自动计费",svg:Xn},{number:"3",title:"适用范围",description:"仅限云游戏服务使用，本地下载游戏不消耗时长",svg:Jn}];return s.jsxs("div",{className:F("backdrop-blur-[15px] bg-b5 rounded-2xl","border border-b10","flex items-center justify-around p-6","text-b100","relative z-1 overflow-hidden","h-[100px] w-[798px]"),children:[e.map((i,t)=>s.jsxs(bt.Fragment,{children:[s.jsxs("div",{className:"flex flex-1 items-center justify-center gap-3 w-[220px]",children:[s.jsx("img",{src:i.svg,alt:"步骤图"}),s.jsxs("div",{className:"h-14",children:[s.jsx("p",{className:"text-sm font-bold text-b40 leading-5",children:i.title}),s.jsx("p",{className:"text-[10px] text-b100 mt-1.5 leading-relaxed",children:i.description})]})]}),t<e.length-1&&s.jsx("img",{src:Zn,className:"mx-5",alt:"下一步箭头"})]},i.number)),s.jsx("img",{src:Un,alt:"控制器",className:"absolute right-2 top-1/3"}),s.jsx("div",{className:"w-7.5 h-[54px] rounded-[10px] absolute left-0 top-1/2 -translate-y-1/2 bg-[var(--Primary-5)] blur-lg opacity-40"})]})},Kn=e=>{const{title:i,price:t,oldTitle:n,desc:r,tag:o,selected:l,onClick:a,width:u=170,...c}=e,g=I.useId(),p=I.useId(),f=I.useId(),d=I.useId();return s.jsxs("button",{type:"button",style:{width:`${u}px`},className:F("h-[152px] px-2 pt-5 pb-2","flex flex-col items-center flex-shrink-0","bg-b5 rounded-2xl","text-b100 text-center","relative overflow-visible cursor-pointer","border-2 border-solid border-transparent","select-none",l&&"bg-[#2a545c] border-[var(--Primary-5)]"),onClick:a,...c,children:[s.jsx("span",{className:"w-full truncate px-2","data-tooltip-id":p,"data-tooltip-content":i,children:i}),s.jsx(K,{id:p,className:"z-[9999]"}),s.jsxs("div",{className:"flex gap-0.5 items-baseline leading-[46px] max-w-[150px] truncate","data-tooltip-id":d,"data-tooltip-content":`¥${t}`,children:[s.jsx("span",{className:"text-sm",children:"¥"}),s.jsx("span",{className:"font-black text-[32px] truncate",children:t})]}),s.jsx(K,{id:d,className:"z-[9999]"}),n&&s.jsx("span",{className:"text-xs text-b40 line-through",children:n}),s.jsx("div",{className:"w-full py-1 px-2 rounded-2xl bg-b5 text-xs mt-auto truncate","data-tooltip-id":f,"data-tooltip-content":r,children:r}),s.jsx(K,{id:f,className:"z-[9999]"}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:F("absolute -top-3 -left-0.5","py-1 px-3","rounded-xl rounded-bl-none text-xs font-medium","text-[var(--Primary-9)] bg-gradient-to-r from-[var(--Primary-5)] to-[#DFEFFF]","max-w-[150px] truncate"),"data-tooltip-id":g,"data-tooltip-content":o,children:o}),s.jsx(K,{id:g,className:"z-[9999]"})]})]})},ei=async()=>(await Vt({page:1,page_size:100,status:1,filter:"platform-WebLabel"})).data.list.sort((i,t)=>t.weight-i.weight),ke=I.forwardRef(({onSelectGoods:e,cardWidth:i,selectedGoodsId:t},n)=>{const r=I.useRef(null),o=I.useRef(!1),l=I.useRef(0),a=I.useRef(0);I.useEffect(()=>{n&&(typeof n=="function"?n(r.current):n.current=r.current)},[n]),I.useEffect(()=>{if(t!==null&&r.current){const w=r.current,A=w.querySelectorAll("[data-card-id]");let G=null;for(let H=0;H<A.length;H++)if(A[H].getAttribute("data-card-id")===t.toString()){G=A[H];break}if(G){const H=G.getBoundingClientRect(),T=w.getBoundingClientRect(),_=H.left-T.left+w.scrollLeft,re=_+H.width;if(!(_>=w.scrollLeft&&re<=w.scrollLeft+w.clientWidth)){const R=_;w.scrollTo({left:R,behavior:"smooth"})}}}},[t]);const{data:u,isLoading:c,isError:g}=ce({queryKey:["goodsList"],queryFn:ei,staleTime:1e3*60*5,gcTime:1e3*60*10});I.useEffect(()=>{if(u&&u.length>0&&t===null){const w=u[0].id;e(w)}},[u,e,t]);const p=I.useCallback(w=>{var A,G;o.current=!0,l.current=w-(((A=r.current)==null?void 0:A.offsetLeft)||0),a.current=((G=r.current)==null?void 0:G.scrollLeft)||0},[]),f=I.useCallback(w=>{var H;if(!o.current)return;const G=(w-(((H=r.current)==null?void 0:H.offsetLeft)||0)-l.current)*1.5;r.current&&(r.current.scrollLeft=a.current-G)},[]),d=I.useCallback(()=>{o.current=!1},[]),m=I.useCallback(w=>{p(w.pageX)},[p]),h=I.useCallback(w=>{f(w.pageX)},[f]),C=I.useCallback(()=>{d()},[d]),v=I.useCallback(()=>{d()},[d]),$=I.useCallback(w=>{p(w.touches[0].clientX)},[p]),z=I.useCallback(w=>{f(w.touches[0].clientX)},[f]),V=I.useCallback(()=>{d()},[d]);I.useEffect(()=>{const w=r.current;return w&&(w.addEventListener("mouseup",C),w.addEventListener("mouseleave",v)),()=>{w&&(w.removeEventListener("mouseup",C),w.removeEventListener("mouseleave",v))}},[C,v]);const E=w=>{console.log("goods: ",w);const A=w.pay_price/100,G=parseFloat(w.point)/60/60,H=parseFloat((A/G).toFixed(1)),T=w.origin_price>w.pay_price?`原价${w.origin_price/100}元`:void 0;return{id:w.id.toString(),title:w.title,price:A,pricePerHour:H,desc:w.desc,oldTitle:T,tag:w.tag}};return c?s.jsx("div",{ref:r,className:F("flex gap-x-5","-ml-5 p-5","overflow-x-auto whitespace-nowrap hide-scrollbar","select-none cursor-grab active:cursor-grabbing"),children:s.jsx("div",{className:"text-white",children:"加载中..."})}):g?s.jsx("div",{ref:r,className:F("flex gap-x-5","-ml-5 p-5","overflow-x-auto whitespace-nowrap hide-scrollbar","select-none cursor-grab active:cursor-grabbing"),children:s.jsx("div",{className:"text-red-500",children:"加载商品列表失败"})}):s.jsx("div",{ref:r,onMouseDown:m,onMouseMove:h,onMouseUp:C,onMouseLeave:v,onTouchStart:$,onTouchMove:z,onTouchEnd:V,className:F("flex gap-x-5","-ml-5 p-5","overflow-x-auto whitespace-nowrap hide-scrollbar","select-none cursor-grab active:cursor-grabbing"),children:u==null?void 0:u.map(w=>{const A=E(w);return s.jsx(Kn,{...A,width:i,selected:A.id===(t==null?void 0:t.toString()),onClick:()=>{e(Number(A.id))},"data-card-id":A.id},A.id)})})});ke.displayName="PriceCardList";const ti=()=>{const[e,i]=I.useState(null),[t,n]=I.useState(!1),[r,o]=I.useState(!1),l=I.useRef(null);I.useEffect(()=>{const c=()=>{if(l.current){const{scrollLeft:f,scrollWidth:d,clientWidth:m}=l.current,h=1;n(f>h),o(f<d-m-h)}},g=setTimeout(()=>{c()},300),p=l.current;if(p){p.addEventListener("scroll",c),window.addEventListener("resize",c);const f=new MutationObserver(()=>{c()});return f.observe(p,{childList:!0,subtree:!0}),()=>{clearTimeout(g),p.removeEventListener("scroll",c),window.removeEventListener("resize",c),f.disconnect()}}return()=>{clearTimeout(g)}},[]);const a=()=>{if(l.current){const{scrollLeft:c}=l.current,f=170+20,d=Math.max(0,c-f);l.current.scrollTo({left:d,behavior:"smooth"})}},u=()=>{if(l.current){const{scrollLeft:c,scrollWidth:g,clientWidth:p}=l.current,m=170+20,h=g-p,C=Math.min(h,c+m);l.current.scrollTo({left:C,behavior:"smooth"})}};return s.jsxs("div",{className:"flex gap-5 rounded-2xl bg-b5 p-5",children:[s.jsxs("div",{className:"w-0 flex-1 mr-5 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-[var(--Title)] text-xl font-bold",children:"云玩时长充值"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!t,onClick:a,children:s.jsx(Et,{color:"var(--b100)"})}),s.jsx(J,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!r,onClick:u,children:s.jsx(Ot,{color:"var(--b100)"})})]})]}),s.jsx(ke,{ref:l,onSelectGoods:i,selectedGoodsId:e}),s.jsx("p",{className:"text-b65 text-xs leading-4 -top-2 relative mb-5",children:"平台仅收取提供技术服务和服务器资源的费用"}),s.jsx(qn,{})]}),s.jsx(Wn,{goodsId:e})]})},ni=()=>{const e=Je(),i=Te(l=>l.account),t=I.useId(),[n,r]=I.useState(null),o=l=>{if(l<0)return"0 分钟";const a=Math.floor(l/3600),u=Math.floor(l%3600/60);return`${a} 小时 ${u} 分钟`};return s.jsxs("div",{className:"w-full px-5 flex flex-col",children:[s.jsx("h2",{className:"text-white font-bold",children:"云玩时长"}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("span",{className:"text-xs text-b65",children:"赠送的时长"}),s.jsx("div",{"data-tooltip-id":t,"data-tooltip-content":"暂无赠送时长",className:"cursor-pointer",children:s.jsx(He,{})}),s.jsx(K,{id:t})]}),s.jsx("div",{className:"text-b100 text-sm",children:"0分钟"})]}),s.jsx("div",{className:"w-[1px] h-[42px] bg-b20 mx-5"}),s.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[s.jsx("div",{className:"flex gap-1",children:s.jsx("span",{className:"text-xs text-b65",children:"我购买的时长"})}),s.jsx("div",{className:"text-b100 text-sm",children:i?o(i.cloudTimer):"0 分钟"})]})]}),s.jsx("div",{className:"mt-5",children:s.jsx(ke,{onSelectGoods:l=>r(l),cardWidth:140,selectedGoodsId:n})}),s.jsx(J,{variant:"gamesir-primary",className:"w-full bg-b100 text-[#131a29] hover:bg-b90",onClick:()=>{n&&e(`/service/payment?goods_id=${n}`)},children:"立即支付"})]})},ii=()=>{const e=Je();return s.jsxs("div",{className:"w-full flex flex-col gap-4 pl-5",children:[s.jsx("h2",{className:"text-bold text-white",children:"更多服务"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2.5",onClick:()=>e("/service/order"),children:[s.jsx(xe,{className:"w-6 h-6 text-b100"}),s.jsx("h3",{className:"text-b65 text-xs",children:"购买记录"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2.5",onClick:()=>e("/service/time-usage"),children:[s.jsx(xe,{className:"w-6 h-6 text-b100"}),s.jsx("h3",{className:"text-b65 text-xs",children:"时长使用明细"})]})]})]})},mi=()=>{const{width:e}=Ht(),i=(e||0)>=1024,[t,n]=I.useState(!0),[r,o]=I.useState(null),l=Te(c=>c.fetchUserAccount),{isLoading:a,data:u}=ce({queryKey:["userAccount"],queryFn:l,refetchInterval:10*1e3});return I.useEffect(()=>{u&&Xe.success("云玩时长充值成功")},[u]),I.useEffect(()=>{a||(n(!1),o(null))},[a]),t?s.jsx("div",{className:F("flex flex-col gap-5","pt-4"),children:i?s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(P,{width:128,height:46}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{width:16,height:26}),s.jsx(P,{width:60,height:26})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{width:16,height:26}),s.jsx(P,{width:80,height:26})]})]})]}),s.jsxs("div",{className:"bg-b5 box-border flex items-center justify-between p-6 rounded-2xl border border-b10",children:[s.jsxs("div",{className:"flex items-center gap-3 w-80",children:[s.jsx(P,{width:44,height:44,style:{borderRadius:"50%"}}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(P,{width:80,height:14}),s.jsx(P,{width:100,height:12})]})]}),s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(P,{width:72,height:12}),s.jsx(P,{width:16,height:16})]}),s.jsx(P,{width:60,height:16})]}),s.jsx("div",{className:"w-px h-[42px] bg-b20"}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx(P,{width:84,height:12}),s.jsx(P,{width:80,height:16})]})]})]}),s.jsxs("div",{className:"flex gap-5 rounded-2xl bg-b5 p-5",children:[s.jsxs("div",{className:"w-0 flex-1 mr-5 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-0",children:[s.jsx(P,{width:128,height:28}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{width:24,height:24,style:{borderRadius:"4px"}}),s.jsx(P,{width:24,height:24,style:{borderRadius:"4px"}})]})]}),s.jsx("div",{className:"mt-5 mb-3",children:s.jsx("div",{className:"flex gap-5",children:Array.from({length:4}).map((c,g)=>s.jsx("div",{className:"flex-shrink-0 w-[170px] h-[152px] bg-b5 rounded-2xl"},`skeleton-card-${g}`))})}),s.jsx("div",{className:"mb-5",children:s.jsx(P,{width:280,height:12})}),s.jsx("div",{className:F("backdrop-blur-[15px] bg-b5 rounded-2xl","border border-b10","flex items-center justify-around p-6","relative z-1 overflow-hidden","h-[100px] w-[798px]"),children:Array.from({length:3}).map((c,g)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(P,{width:48,height:48,style:{opacity:.2}}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(P,{width:64,height:14}),s.jsx(P,{width:144,height:12})]})]},`skeleton-desc-${g}`))})]}),s.jsxs("div",{className:"bg-floating-30 rounded-2xl flex flex-col items-center gap-5 p-5",children:[s.jsxs("div",{className:"w-full flex justify-center gap-3",children:[s.jsx(P,{width:115,height:32,style:{borderRadius:"16px"}}),s.jsx(P,{width:100,height:32,style:{borderRadius:"16px"}})]}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(P,{width:112,height:20}),s.jsx(P,{width:164,height:164,style:{borderRadius:"16px"}}),s.jsx(P,{width:132,height:12})]}),s.jsx(P,{width:200,height:10})]})]})]}):s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsx(P,{width:"100%",height:200,style:{borderRadius:"16px"}}),s.jsx(P,{width:"100%",height:150,style:{borderRadius:"16px"}})]})}):s.jsxs("div",{className:F("flex flex-col gap-5",r?"pt-0":"pt-4"),children:[r&&s.jsx("div",{className:F("w-[calc(100%+40px)] h-15 -mx-[20px]"),children:s.jsx("img",{src:r,alt:"advertisement",className:"w-full h-full object-cover"})}),i?s.jsxs(s.Fragment,{children:[s.jsx(Yn,{}),s.jsx(Bn,{}),s.jsx(ti,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{}),s.jsx(ii,{})]})]})};export{mi as default};
