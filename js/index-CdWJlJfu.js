import{j as e,F as me,a as C,u as ce,_ as ee,r as c,b as re,R as ge,E as Y,d as Z,B as te,f as X,e as ve}from"./index-CybXJaB_.js";import{u as le}from"./useSwipe-BlCbLlRg.js";import{R as be,I as we,P as B}from"./pubg--OF0-3xU.js";import{S as K}from"./index-BNj5bqZy.js";import{H as je}from"./HeartIcon-B-fRnsR9.js";import{P as ye}from"./PLATFORM_ICON_MAP-pSA7Oz_G.js";import{N as k}from"./index-oH4-aH7I.js";import{C as de,a as ue}from"./chevron-right-BSwAJ8f8.js";import{G as se,u as xe}from"./index-Bu_EVvPV.js";const oe=({direction:t,onClick:s,className:r})=>e.jsx(me,{size:45,className:C("z-30","absolute top-1/2 -translate-y-0.5",t==="left"?"-left-2":"-right-2","opacity-0 lg:group-hover:opacity-100 pointer-events-none lg:group-hover:pointer-events-auto","transition-opacity duration-100",r),onClick:s,"aria-label":t==="left"?"ä¸Šä¸€å¼ ":"ä¸‹ä¸€å¼ ",children:e.jsx("div",{children:e.jsxs("svg",{width:"24",height:"24",fill:"none",children:[e.jsx("title",{children:t==="left"?"ä¸Šä¸€å¼ ":"ä¸‹ä¸€å¼ "}),e.jsx("path",{d:t==="left"?"M15 6l-6 6 6 6":"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})});function Ce({className:t,value:s,...r}){return e.jsx(be,{"data-slot":"progress",className:C("bg-white/20 relative h-1 w-full overflow-hidden rounded-full",t),...r,children:e.jsx(we,{"data-slot":"progress-indicator",className:"bg-white h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const he=({count:t,active:s,progress:r=0,className:x,onIndicatorClick:d})=>e.jsx("div",{className:C("flex items-center gap-1 z-20",x),children:Array.from({length:t}).map((i,n)=>e.jsx("div",{onClick:s===n?void 0:()=>d(n),children:e.jsx(Ce,{value:s===n?r:0,className:`${s===n?"w-[35px]":"w-1"} transition-[width] duration-300`})},n))}),fe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16","aria-label":"Star Icon",role:"img",...t,children:[e.jsx("title",{children:"Star Icon"}),e.jsx("desc",{children:"Star å›¾æ ‡"}),e.jsx("path",{d:"M1.61901 3.43591L1.58803 4.80708C1.58622 4.84949 1.57302 4.89062 1.54981 4.92617C1.5266 4.96171 1.49424 4.99034 1.45614 5.00905L0.307487 5.58598C0.265699 5.60658 0.230998 5.63916 0.207818 5.67957C0.184639 5.71998 0.174032 5.76639 0.177354 5.81286C0.180676 5.85933 0.197775 5.90375 0.226468 5.94045C0.25516 5.97716 0.294142 6.00447 0.338435 6.01891L1.55692 6.41893C1.59762 6.43146 1.63404 6.45503 1.66216 6.487C1.69027 6.51898 1.70898 6.55812 1.7162 6.60008L1.94205 7.95482C1.95011 7.99982 1.97105 8.04151 2.00233 8.07484C2.03362 8.10818 2.0739 8.13172 2.1183 8.14261C2.1627 8.1535 2.2093 8.15127 2.25246 8.1362C2.29562 8.12113 2.33347 8.09385 2.36144 8.05769L3.19029 6.96643C3.21571 6.93205 3.25012 6.90535 3.28974 6.88927C3.32935 6.87319 3.37263 6.86835 3.41482 6.87529L4.69802 7.10317C4.74364 7.11041 4.79038 7.10412 4.83245 7.08507C4.87453 7.06602 4.9101 7.03506 4.93476 6.996C4.95943 6.95695 4.9721 6.91153 4.97122 6.86535C4.97033 6.81917 4.95593 6.77426 4.92979 6.73618L4.18195 5.64788C4.15776 5.61359 4.1434 5.57334 4.1404 5.53148C4.13741 5.48962 4.14591 5.44773 4.16497 5.41035L4.75505 4.211C4.77323 4.1695 4.77909 4.12365 4.77194 4.07891C4.76478 4.03418 4.74491 3.99244 4.7147 3.95868C4.68448 3.92492 4.64519 3.90056 4.60152 3.88851C4.55785 3.87645 4.51163 3.87722 4.46837 3.8907L3.22393 4.2858C3.18316 4.29866 3.13963 4.30003 3.09813 4.28975C3.05663 4.27947 3.01877 4.25794 2.98872 4.22752L2.01307 3.26526C1.97902 3.23486 1.93702 3.2148 1.89197 3.20743C1.84693 3.20005 1.80072 3.20567 1.75876 3.22363C1.7168 3.24158 1.68082 3.27112 1.65505 3.30879C1.62928 3.34647 1.61479 3.3907 1.61326 3.43632L1.61901 3.43591Z",fill:"currentColor","fill-opacity":"0.9"}),e.jsx("path",{d:"M15.0104 9.57279C15.114 9.54557 15.2076 9.48907 15.2798 9.41004C15.3521 9.33102 15.4001 9.23282 15.418 9.12723C15.4359 9.02163 15.423 8.91312 15.3808 8.81468C15.3386 8.71624 15.2689 8.63206 15.1801 8.57222L12.5215 6.78754C12.4385 6.73147 12.3724 6.65393 12.33 6.5632C12.2877 6.47248 12.2708 6.37196 12.2811 6.27238L12.6018 3.29953C12.6143 3.19141 12.5941 3.08202 12.544 2.98542C12.4938 2.88883 12.4159 2.80946 12.3202 2.75752C12.2246 2.70558 12.1156 2.68344 12.0073 2.69396C11.8989 2.70447 11.7962 2.74716 11.7123 2.81653L9.39684 4.70607C9.31989 4.77014 9.22664 4.81153 9.12752 4.82563C9.02839 4.83973 8.9273 4.82597 8.83555 4.7859L5.89177 3.53039C5.79303 3.4884 5.68415 3.47626 5.57858 3.49545C5.47301 3.51465 5.37538 3.56435 5.29774 3.63841C5.2201 3.71247 5.16585 3.80764 5.14169 3.91219C5.11753 4.01673 5.12452 4.12606 5.1618 4.22668L6.26158 7.22786C6.29642 7.3215 6.30515 7.42285 6.28684 7.52108C6.26853 7.6193 6.22387 7.7107 6.15762 7.7855L4.11621 10.0315C4.04468 10.1118 3.9982 10.2113 3.9825 10.3177C3.9668 10.4241 3.98257 10.5327 4.02787 10.6303C4.07316 10.7278 4.146 10.81 4.23742 10.8666C4.32883 10.9233 4.43482 10.952 4.54233 10.9491L7.43746 10.8495C8.61053 10.6452 9.02012 9.84262 9.01351 9.50467C9.0033 9.12105 8.84497 8.87335 8.57275 8.86757C8.30052 8.86179 8.23203 8.95572 8.23203 8.95572C8.29281 8.95286 8.35354 8.96221 8.41064 8.98323C8.46774 9.00424 8.52005 9.03649 8.56447 9.07807C8.60889 9.11965 8.64452 9.16972 8.66926 9.2253C8.694 9.28089 8.70735 9.34087 8.70851 9.40171C8.70966 9.46254 8.69861 9.52299 8.67601 9.57948C8.6534 9.63597 8.6197 9.68735 8.57689 9.73059C8.53409 9.77383 8.48305 9.80805 8.42679 9.83122C8.37053 9.8544 8.3102 9.86606 8.24935 9.86551C8.24935 9.86551 7.62852 9.90207 7.61599 9.18064C7.60346 8.45921 8.35182 8.33674 8.4988 8.3357C8.64488 8.34077 8.78846 8.37504 8.92108 8.4365C9.0537 8.49795 9.17267 8.58535 9.27097 8.69352C9.36927 8.8017 9.44491 8.92846 9.49343 9.06634C9.54195 9.20422 9.56237 9.35042 9.55348 9.49631C9.56711 10.2358 9.03588 10.9002 8.18492 11.2357L9.69993 13.75C9.75553 13.8425 9.83716 13.9165 9.93462 13.9629C10.0321 14.0093 10.141 14.026 10.2479 14.0108C10.3548 13.9956 10.4548 13.9493 10.5355 13.8776C10.6162 13.8059 10.6739 13.712 10.7016 13.6077L11.486 10.6703C11.5122 10.574 11.5641 10.4866 11.6363 10.4176C11.7084 10.3485 11.798 10.3005 11.8954 10.2786L15.0104 9.57279Z",fill:"currentColor","fill-opacity":"0.9"})]}),U=t=>{if(!t)return!1;const s=t.split("?")[0].split("#")[0];return s.endsWith(".mp4")||s.endsWith(".webm")||s.endsWith(".ogg")||s.endsWith(".mov")||s.endsWith(".avi")},Ne=({items:t,active:s,onVideoTimeUpdate:r,onVideoEnded:x})=>{const i=ce("(max-width: 1023px)")?"linear-gradient(to bottom, black 90%, transparent 100%)":"linear-gradient(to right, black 90%, transparent 100%)";return e.jsxs("div",{className:C("relative flex items-center justify-center","aspect-[275/158]","w-full h-full lg:!w-[62%]"),children:[t.map((n,u)=>Math.abs(u-s)<=1||s===0&&u===t.length-1||s===t.length-1&&u===0?e.jsx("div",{className:C("absolute inset-0 w-full h-full","select-none outline-none","transition-opacity duration-700","rounded-t-2xl rounded-b-none lg:rounded-l-2xl lg:rounded-r-none",s===u?"opacity-100 z-10":"opacity-0 z-0"),style:{maskImage:i,WebkitMaskImage:i},children:n.video||U(n.cover)?e.jsx("video",{src:n.video||n.cover,className:"w-full h-full object-cover object-left video-no-controls",autoPlay:s===u,muted:!0,playsInline:!0,onTimeUpdate:s===u?r:void 0,onEnded:s===u?x:void 0,controls:!1,disablePictureInPicture:!0,disableRemotePlayback:!0}):e.jsx(K,{src:n.cover,alt:n.title,progressive:!0,loading:"eager",className:"w-full h-full object-cover object-left"})},`banner-${n.title}-${n.cover}`):null),e.jsxs("div",{className:C("absolute top-0 right-0","flex items-center justify-center gap-1","min-w-[90px] sm:w-1/7 aspect-[100/30]","rounded-bl-2xl rounded-tr-2xl","text-sm","bg-[#2c2330]","z-50","flex lg:!hidden"),children:[e.jsx(fe,{}),e.jsx("span",{children:"æ¯æ—¥æ¨è"})]})]})},ke=t=>{const{rating:s,label:r}=t,d=r||(i=>i===-1?"æš‚æ— è¯„åˆ†":i>=90?"å¥½è¯„å¦‚æ½®":i>=80?"ç‰¹åˆ«å¥½è¯„":i>=60?"å¤šåŠå¥½è¯„":i>=40?"è¤’è´¬ä¸ä¸€":i>=0?"å·®è¯„å¦‚æ½®":"æš‚æ— è¯„åˆ†")(s);return s===-1?e.jsx(ee,{children:e.jsx("div",{className:C("w-[80px] h-[48px]","items-center justify-center","text-[var(--b100)] font-bold","flex"),children:e.jsx("div",{className:"font-noto text-xs",children:d})})}):e.jsx(ee,{children:e.jsxs("div",{className:C("w-[80px] h-[48px]","items-center","text-[var(--b100)] font-bold","flex flex-col gap-1"),children:[e.jsx("div",{className:"font-noto text-xs",children:d}),e.jsxs("div",{className:"flex gap-0 items-baseline",children:[e.jsx("div",{className:"font-black text-[28px]",children:s}),e.jsx("div",{children:"%"})]})]})})},Le=t=>{const s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""},Re=({item:t,count:s,onIndicatorClick:r,active:x,progress:d})=>{const i=c.useMemo(()=>Le(t.desc),[t==null?void 0:t.desc]);return e.jsxs("div",{className:C("h-auto lg:h-full","relative border-box","flex-1  flex flex-col","p-5 bg-transparent","z-10"),children:[t.badges&&t.badges.length>0&&e.jsx("div",{className:C("w-full mb-6","hidden lg:block"),children:e.jsx("div",{className:"flex gap-5",children:t.badges.map((n,u)=>{var E;return e.jsx("a",{href:n.url,rel:"noopener noreferrer",className:C("block rounded-lg overflow-hidden cursor-pointer transition-transform hover:scale-105",((E=t.badges)==null?void 0:E.length)===1?"w-[343px] h-[58px]":"w-[101px] h-[58px]"),onClick:h=>h.stopPropagation(),children:e.jsx(K,{src:n.pic,alt:`Badge ${u+1}`,className:"w-full h-full object-fill rounded-lg"})},u)})})}),e.jsxs("div",{className:C("text-[var(--Title)] font-bold text-[20px] leading-[40px] ","tracking-wide font-noto","mb-3 lg:mb-5","text-left","flex justify-between items-center"),children:[e.jsx("div",{className:"flex-1 min-w-0 line-clamp-1 text-left cursor-pointer",title:t.title,children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 lg:!hidden",children:[e.jsx(je,{className:"text-[#98ffe8] text-sm"}),e.jsxs("span",{className:"text-[#98ffe8] text-sm relative -top-[1px]",children:[t.rating.value,"%"]})]})]}),e.jsxs("div",{className:C("flex items-start gap-2.5 mb-5","hidden lg:flex"),children:[e.jsx("div",{className:"shrink-0",children:e.jsx(ke,{rating:t.rating.value,label:t.rating.label})}),e.jsx("div",{className:"shrink-0 w-[1px] h-[62px] bg-[linear-gradient(0deg,rgba(187,215,245,0)_0%,rgba(187,215,245,0.3)_50%,rgba(187,215,245,0)_100%)] "}),e.jsx("div",{className:"flex-1 flex flex-wrap gap-x-1 gap-y-1 h-[62px] overflow-hidden content-start items-start",children:t.tags.map(n=>e.jsx(ee,{className:"text-xs leading-[1.2] px-[10px] py-[4px] h-[28px] flex items-center",children:n},n))})]}),e.jsx("div",{className:C("text-b100 text-xs leading-5","font-noto overflow-hidden","mb-3 lg:mb-[50px]","max-h-10 lg:!max-h-[80px]","line-clamp-2 lg:line-clamp-4","text-left"),children:i}),e.jsx("div",{className:C("flex flex-wrap gap-1 mb-5 h-[22px] overflow-hidden","flex lg:!hidden"),children:t.tags.map(n=>e.jsx(ee,{className:"text-xs pt-1.5 h-[22px] flex items-center",children:n},n))}),e.jsxs("div",{className:C("flex items-center justify-between gap-4 w-full","lg:absolute lg:bottom-4.5 lg:pr-10 "),children:[e.jsx("div",{className:"flex gap-2",children:t.platform.map(n=>{const u=ye[n];return u?e.jsx(u,{className:"w-6 h-6",color:"var(--b100)"},n):null})}),e.jsx(he,{className:C("relative top-1.5","lg:!hidden"),active:x,progress:(d||0)*100,count:s,onIndicatorClick:r}),t.mainButton&&e.jsxs("button",{type:"button",className:C("px-2.5 py-1.5","rounded-[12px]","bg-[var(--b100)] shadow","text-[var(--floating)] font-bold text-base","flex items-center gap-2","hidden lg:flex"),children:[e.jsx(fe,{className:"text-xl"}),t.mainButton.text]})]})]})},ae=t=>{let s=null,r=null;try{if(s=document.createElement("canvas"),r=s.getContext("2d",{willReadFrequently:!0}),!r)return"#242C35";s.width=50,s.height=50,r.drawImage(t,0,0,s.width,s.height);const d=r.getImageData(0,0,s.width,s.height).data;let i=0,n=0,u=0,E=0;for(let h=0;h<d.length;h+=4)i+=d[h],n+=d[h+1],u+=d[h+2],E++;return i=Math.floor(i/E),n=Math.floor(n/E),u=Math.floor(u/E),`rgb(${i}, ${n}, ${u})`}catch(x){return console.error("æå–ä¸»è‰²è°ƒå¤±è´¥:",x),"#242C35"}finally{r&&r.clearRect(0,0,50,50),s&&(s.width=0,s.height=0,s=null)}},Te=({items:t,loading:s=!1})=>{var a,w,S;const[r,x]=c.useState(0),d=c.useRef(null),i=c.useRef(null),[n,u]=c.useState(0),[E,h]=c.useState(0),[v,L]=c.useState(!1),b=c.useRef(0),g=6e3,_=12e3,[W,z]=c.useState("#242C35"),A=c.useRef(new Map),[y,I]=c.useState(window.innerWidth<1024),$=20,R=c.useCallback((l,m=20)=>y?l.includes("?")?l.includes("image_process")?`${l}/quality,q_${m}/resize,p_40`:`${l}&image_process=quality,q_${m}/resize,p_40`:`${l}?image_process=quality,q_${m}/resize,p_40`:`${l}?image_process=quality,q_${m}`,[y]);c.useEffect(()=>{var l,m;if(u(0),h(0),b.current=0,d.current&&(clearTimeout(d.current),d.current=null),i.current&&(clearInterval(i.current),i.current=null),(l=t[r])!=null&&l.video||U((m=t[r])==null?void 0:m.cover)){v||(d.current=setTimeout(()=>{x(j=>(j+1)%t.length)},_),i.current=setInterval(()=>{h(j=>{const o=100/_*100,f=j+o;return f>100?100:f})},100));return}return d.current=setTimeout(()=>{x(j=>(j+1)%t.length)},g),i.current=setInterval(()=>{u(j=>{const o=j+100/g;return o>1?1:o})},100),()=>{d.current&&(clearTimeout(d.current),d.current=null),i.current&&(clearInterval(i.current),i.current=null)}},[t,r,v]);const V=l=>{x(l)},T=le({onSwipedLeft:()=>{x(l=>(l+1)%t.length)},onSwipedRight:()=>{x(l=>(l-1+t.length)%t.length)}}),q=l=>{if(v){const m=Date.now();if(m-b.current>=200){const j=l.currentTarget;if(j.duration){const o=j.currentTime/j.duration*100;h(o),b.current=m}}}},G=()=>{h(0),x(l=>(l+1)%t.length)};return c.useEffect(()=>{const l=()=>{I(window.innerWidth<1024)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),c.useEffect(()=>{if(!t||t.length===0)return;const l=[];return[r,(r-1+t.length)%t.length,(r+1)%t.length].forEach(j=>{const o=t[j];if(o!=null&&o.cover&&!U(o.cover)){const f=new Image;f.src=o.cover,l.push(f);const N=new Image;N.src=R(o.cover,20),l.push(N)}}),()=>{l.forEach(j=>{j.src=""})}},[r,t,R]),c.useEffect(()=>{const l=t[r];if(!l)return;const m=l.video||l.cover,j=m,o=A.current.get(j);if(o){z(o);return}const f=(p,P)=>{if(A.current.size>=$){const H=A.current.keys().next().value;H&&A.current.delete(H)}A.current.set(p,P)},N=U(m);let M=!1;if(N){const p=document.createElement("video");p.crossOrigin="anonymous",p.src=m,p.muted=!0,p.playsInline=!0,p.preload="metadata";const P=()=>{M||(p.currentTime=.5)},H=()=>{if(!M){const D=ae(p);f(j,D),z(D)}F()},O=()=>{if(!M){const D="#242C35";f(j,D),z(D)}F()},F=()=>{p.removeEventListener("loadeddata",P),p.removeEventListener("seeked",H),p.removeEventListener("error",O),p.pause(),p.src="",p.load(),p.remove()};return p.addEventListener("loadeddata",P),p.addEventListener("seeked",H),p.addEventListener("error",O),p.load(),()=>{M=!0,F()}}else{const p=new Image;p.crossOrigin="anonymous";const P=()=>{if(!M){const F=ae(p);f(j,F),z(F)}O()},H=()=>{if(!M){const F="#242C35";f(j,F),z(F)}O()},O=()=>{p.removeEventListener("load",P),p.removeEventListener("error",H),p.src=""};return p.addEventListener("load",P),p.addEventListener("error",H),p.src=l.cover,()=>{M=!0,O()}}},[t,r]),s?e.jsx("div",{className:"w-full lg:max-w-[1600px] min-h-[410px] lg:h-[445px] lg:max-h-[445px] relative overflow-hidden lg:overflow-visible!",children:e.jsxs("div",{className:C("w-full h-full","min-h-[410px] lg:h-[445px] lg:max-h-[445px]","relative","flex rounded-2xl","flex-col lg:!flex-row","px-0 py-0","overflow-hidden lg:!overflow-visible"),style:{boxShadow:"0 8px 48px 0 rgba(0,0,0,0.24)",background:"var(--5, rgba(186, 215, 245, 0.05))"},children:[e.jsx("div",{className:C("hidden lg:block","w-full h-full lg:!w-[62%]","aspect-[275/158]","relative"),style:{borderRadius:"16px 0 0 16px"}}),e.jsxs("div",{className:"w-full lg:flex-1 h-auto lg:h-full relative border-box flex flex-col p-5 bg-transparent",children:[e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("div",{className:"w-full mb-6",children:e.jsx(k,{width:"100%",height:58,style:{borderRadius:"8px"}})}),e.jsx("div",{className:"text-[28px] leading-[40px] mb-5 text-center",children:e.jsx(k,{width:212,height:50,style:{borderRadius:"8px"}})}),e.jsxs("div",{className:"flex items-start gap-2.5 mb-5",children:[e.jsx(k,{width:80,height:62,style:{borderRadius:"12px"}}),e.jsx("div",{className:"w-[1px] h-[62px] bg-[linear-gradient(0deg,rgba(187,215,245,0)_0%,rgba(187,215,245,0.3)_50%,rgba(187,215,245,0)_100%)]"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[e.jsx(k,{width:70,height:28,style:{borderRadius:"10px"}}),e.jsx(k,{width:85,height:28,style:{borderRadius:"10px"}}),e.jsx(k,{width:65,height:28,style:{borderRadius:"10px"}}),e.jsx(k,{width:75,height:28,style:{borderRadius:"10px"}}),e.jsx(k,{width:90,height:28,style:{borderRadius:"10px"}}),e.jsx(k,{width:80,height:28,style:{borderRadius:"10px"}})]})]}),e.jsx("div",{className:"mb-[50px] text-left",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(k,{width:"100%",height:14,style:{borderRadius:"4px"}}),e.jsx(k,{width:"100%",height:14,style:{borderRadius:"4px"}}),e.jsx(k,{width:"100%",height:14,style:{borderRadius:"4px"}}),e.jsx(k,{width:"100%",height:14,style:{borderRadius:"4px"}})]})}),e.jsxs("div",{className:"absolute bottom-[18px] pr-10 flex items-center justify-between gap-4 w-full",children:[e.jsx("div",{className:"flex gap-2",children:["steam","epic","xbox","ps","switch","pc"].map(l=>e.jsx(k,{width:24,height:24,style:{borderRadius:"4px"}},`skeleton-platform-${l}`))}),e.jsx(k,{width:120,height:40,style:{borderRadius:"12px"}})]})]}),e.jsx("div",{className:"lg:hidden w-full h-full min-h-[450px]"})]})]})}):e.jsxs("div",{className:"w-full lg:max-w-[1600px] min-h-[410px] lg:h-[445px] lg:max-h-[445px] relative overflow-hidden lg:overflow-visible! rounded-2xl",children:[!y&&t.map((l,m)=>Math.abs(m-r)<=1||r===0&&m===t.length-1||r===t.length-1&&m===0?e.jsx("img",{src:R(l.cover,20),alt:`${l.title} blurred background`,className:C("absolute inset-0 h-full","z-0","rounded-2xl","select-none outline-none","object-cover object-left","transition-opacity duration-700",r===m?"opacity-90":"opacity-0"),style:{width:"100%",transform:"scale(1.2)",filter:"blur(200px) brightness(0.98)",willChange:"filter"}},`blurred-bg-${l.title}-${l.cover}`):null),e.jsxs("button",{...T,type:"button",className:C("w-full max-w-[1600px] ","min-h-[410px] lg:h-[445px] lg:max-h-[445px]","relative group","flex rounded-2xl","flex-col lg:!flex-row",(a=t[r])!=null&&a.onClick?"cursor-pointer":"","px-0 py-0 border-none outline-none focus:outline-none","overflow-hidden lg:!overflow-visible"),style:{boxShadow:"0 8px 48px 0 rgba(0,0,0,0.24)"},onClick:()=>{var l,m;return(m=(l=t[r])==null?void 0:l.onClick)==null?void 0:m.call(l)},onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[e.jsx(oe,{direction:"left",onClick:l=>{l.stopPropagation(),x(m=>(m-1+t.length)%t.length)}}),e.jsx(oe,{direction:"right",onClick:l=>{l.stopPropagation(),x(m=>(m+1)%t.length)}}),e.jsx(Ne,{items:t,active:r,onVideoTimeUpdate:q,onVideoEnded:G}),e.jsx(he,{className:"absolute bottom-8 left-8 hidden lg:flex",count:t.length,active:r,progress:(w=t[r])!=null&&w.video||U(t[r].cover)?E:n*100,onIndicatorClick:V}),e.jsx("div",{className:"absolute left-0 lg:left-[62%] right-0 top-0 bottom-0 pointer-events-none z-[1] transition-[background] duration-700 rounded-2xl lg:rounded-r-2xl lg:rounded-l-none",style:{background:`radial-gradient(44.27% 22.81% at 50.13% 100%, rgba(186, 215, 245, 0.10) 0%, rgba(186, 215, 245, 0.00) 100%), ${W}`}}),e.jsx(Re,{item:t[r],progress:(S=t[r])!=null&&S.video?E/100:n,count:t.length,onIndicatorClick:V,active:r})]})]})},Se=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16","aria-label":"Rank Icon",role:"img",...t,children:[e.jsx("title",{children:"Rank Icon"}),e.jsx("desc",{children:"Rank å›¾æ ‡"}),e.jsx("path",{d:"M6.59957 12.336C5.71703 12.3905 5.30938 12.8419 5.43638 13.1695C5.56443 13.4971 6.46404 14.3199 7.97619 14.5397C9.48729 14.7595 10.9834 14.6592 11.5544 14.6592C12.1242 14.6592 12.7987 14.5781 12.4508 14.2804C11.6418 13.6218 10.7222 13.1123 9.73486 12.7757C8.40839 12.335 7.48104 12.2795 6.59957 12.335V12.336ZM3.45786 8.41318C3.51762 8.79523 3.91355 9.76846 5.0554 10.5069C5.96248 11.096 6.99762 11.5175 8.09999 11.7438C8.9185 11.9166 9.69217 12.1525 9.43607 11.6723C9.17996 11.1921 8.31341 10 7.06057 9.16232C5.80772 8.32461 5.14716 8.22536 4.59011 8.10797C4.03198 7.99059 3.39809 8.03328 3.45785 8.41425L3.45786 8.41318ZM3.84204 4.46471C3.38209 4.46471 3.41305 4.88944 3.53578 5.25442C3.65956 5.61724 4.18567 6.7004 5.09382 7.3599C5.69995 7.7985 6.46725 8.17948 7.39567 8.50175C7.18864 7.32255 6.74469 6.3952 6.06386 5.72076C5.04365 4.70802 4.30199 4.46578 3.84204 4.46578V4.46471ZM5.90485 1.32088C5.75674 1.30656 5.60831 1.34471 5.48546 1.42867C5.4292 1.46654 5.38158 1.51587 5.34571 1.57344C5.30985 1.631 5.28656 1.69549 5.27737 1.76269L5.25816 1.9505C5.20695 2.55451 5.30083 3.16065 5.53242 3.73265C5.88458 4.59705 6.41388 5.28322 7.11819 5.78691C7.25692 5.32591 7.34337 4.94387 7.37432 4.63867C7.42127 4.17979 7.42127 3.76572 7.11821 2.71886C6.98374 2.25357 6.69134 1.83311 6.24315 1.45748C6.14688 1.37865 6.02888 1.331 5.90486 1.32088H5.90485Z",fill:"currentColor"})]}),ne=({category:t,items:s})=>{const r=re(),[x,d]=ge.useState(null);return e.jsxs("div",{className:"rounded-2xl border shadow-[0_4px_32px_0_rgba(0,0,0,0.24)] px-6 pt-6 pb-4 w-full relative overflow-hidden h-full",style:{borderColor:"rgba(186, 215, 245, 0.1)",backgroundColor:"rgba(16, 19, 29, 0.1)"},children:[e.jsx("div",{className:"hidden lg:block z-10 pointer-events-none w-3/4 h-1/2 rounded-full absolute -top-[80px] left-1/2 -translate-x-1/2",style:{background:"#98FFE8",opacity:.5,filter:"blur(130px)",animation:"rank-breath 3s linear infinite",transformOrigin:"center center"}}),e.jsx("div",{className:"flex items-center justify-between mb-6 relative z-20",children:e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[e.jsx(Se,{color:"#E2C395",className:"w-6 h-6 flex-shrink-0"}),e.jsx("span",{className:"text-white text-xl font-bold tracking-wide pointer-none truncate cursor-pointer",title:t,children:t})]})}),e.jsxs("button",{className:"w-full rounded-xl bg-[#232B36] mb-4 relative flex flex-col shadow-[0_2px_16px_0_rgba(0,0,0,0.10)] transition-[background,box-shadow] duration-300 z-20 cursor-pointer",onMouseEnter:()=>d(1),onMouseLeave:()=>d(null),onClick:()=>r(`/game/${s[0].id}`),onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&r(`/game/${s[0].id}`)},type:"button",children:[e.jsx("span",{className:"absolute left-4 top-3 bg-[#E5D1B8] text-[#7A5B2B] text-xs font-bold rounded px-2 py-0.5 z-10",children:"TOP1"}),e.jsx(Y,{className:"relative aspect-[275/158]",borderRadius:"16px",children:e.jsx(K,{progressive:!1,src:s[0].cover,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110",alt:"game cover"})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-left",children:[e.jsx("div",{className:"text-lg font-bold truncate leading-tight text-left",style:{color:"var(---Title, #DFEFFF)"},children:s[0].title}),e.jsx("div",{className:"text-b80 text-sm truncate leading-tight mt-1 text-left",children:s[0].desc})]})]}),e.jsx("div",{className:"flex flex-col",children:s.slice(1,10).map(i=>e.jsxs("button",{className:"flex items-center py-4 gap-3 transition-[background,margin,padding] duration-300 cursor-pointer relative z-20"+(x===i.rank?" bg-[var(--15,rgba(186,215,245,0.15))] -mx-6 px-6 rounded-none":" hover:bg-[var(--15,rgba(186,215,245,0.15))] hover:-mx-6 hover:px-6 hover:rounded-none"),onMouseEnter:()=>d(i.rank),onMouseLeave:()=>d(null),onClick:()=>r(`/game/${i.id}`),onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&r(`/game/${i.id}`)},type:"button",children:[e.jsx("span",{className:"w-6 text-right text-base font-bold text-b100 opacity-80 select-none",children:i.rank}),e.jsx("div",{className:"rounded-[8px] bg-[#232B36] w-[100px] h-[46px] overflow-hidden flex-shrink-0",children:e.jsx(K,{progressive:!1,src:i.cover,alt:"cover",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col min-w-0 flex-1 justify-center text-left",children:[e.jsx("div",{className:"text-b100 text-base truncate leading-tight text-left",children:i.title}),e.jsx("div",{className:"text-xs text-b65 truncate leading-tight mt-1 text-left",children:i.desc})]})]},i.rank))})]})},pe=""+new URL("../assets/rust-DP7kKyMK.png",import.meta.url).href,Ee=()=>{var l,m,j;const t=()=>[{rank:1,title:"åŠ è½½ä¸­...",desc:"æ­£åœ¨è·å–çƒ­é—¨æ¦œå•æ•°æ®",cover:pe,id:"loading-1"},{rank:2,title:"åŠ è½½ä¸­...",desc:"æ­£åœ¨è·å–çƒ­é—¨æ¦œå•æ•°æ®",cover:B,id:"loading-2"},{rank:3,title:"åŠ è½½ä¸­...",desc:"æ­£åœ¨è·å–çƒ­é—¨æ¦œå•æ•°æ®",cover:B,id:"loading-3"}],s=o=>{if(!o)return t();let f=[];if(o&&typeof o=="object"){const N=o.Data||o.data||[];Array.isArray(N)&&N.length>0&&N[0].Games&&(f=N[0].Games)}return!Array.isArray(f)||f.length===0?t():f.map((N,M)=>{var p;return{rank:M+1,title:N.name||`æ¸¸æˆ${M+1}`,desc:N.ai_desc||"æš‚æ— æè¿°",cover:N.cover_image||B,id:((p=N.id)==null?void 0:p.toString())||`rank-${M+1}`}})},{data:r,isLoading:x}=Z({queryKey:["topicInfo","webç«¯é¦–é¡µåº•éƒ¨çƒ­é—¨æ¦œå•æ’è¡Œæ¦œ"],queryFn:async()=>await X("webç«¯é¦–é¡µåº•éƒ¨çƒ­é—¨æ¦œå•æ’è¡Œæ¦œ"),staleTime:18e5,retry:1}),{data:d,isLoading:i}=Z({queryKey:["topicInfo","webç«¯é¦–é¡µåº•éƒ¨æ–°æ¸¸æ¦œå•æ’è¡Œæ¦œ"],queryFn:async()=>await X("webç«¯é¦–é¡µåº•éƒ¨æ–°æ¸¸æ¦œå•æ’è¡Œæ¦œ"),staleTime:1800*1e3,retry:1}),{data:n,isLoading:u}=Z({queryKey:["topicInfo","webç«¯é¦–é¡µåº•éƒ¨çƒ­é”€æ¦œå•æ’è¡Œæ¦œ"],queryFn:async()=>await X("webç«¯é¦–é¡µåº•éƒ¨çƒ­é”€æ¦œå•æ’è¡Œæ¦œ"),staleTime:1800*1e3,retry:1}),E=((l=r==null?void 0:r.Topic)==null?void 0:l.title)||"çƒ­é—¨æ¦œå•",h=r?s(r):t(),v=((m=d==null?void 0:d.Topic)==null?void 0:m.title)||"æ–°æ¸¸æ¦œå•",L=d?s(d):t(),b=((j=n==null?void 0:n.Topic)==null?void 0:j.title)||"çƒ­é”€æ¦œå•",g=n?s(n):t(),_=x||i||u,[W,z]=c.useState(!1),[A,y]=c.useState(!1),I=c.useRef(null),$=c.useRef(!1),R=ce("(max-width: 1023px)"),V=R?h.slice(0,6):h,Q=R?L.slice(0,6):L,J=R?g.slice(0,6):g,T=c.useCallback(()=>{const o=I.current;if(!o)return;const f=o.scrollLeft,N=o.scrollWidth,M=o.clientWidth,p=f>5,P=f+M<N-10;console.log("æ’è¡Œæ¦œæ»šåŠ¨æ£€æµ‹:",{scrollLeft:f,clientWidth:M,scrollWidth:N,canLeft:p,canRight:P,isMobile:R,å®¹å™¨å­å…ƒç´ æ•°é‡:o.children.length,å®¹å™¨ç±»å:o.className,æ»šåŠ¨æ¯”ä¾‹:`${f}/${N-M}`}),z(p),y(P)},[]),q=c.useCallback(()=>{if(!I.current)return;const o=I.current,f=o.querySelector(".rank-panel-item");if(!f)return;const N=f.offsetWidth+20,M=o.scrollLeft,p=Math.round(M/N)*N;o.scrollTo({left:p,behavior:"smooth"}),setTimeout(T,300)},[T]),G=()=>{if(I.current){const o=I.current,f=o.querySelector(".rank-panel-item");f&&(o.scrollBy({left:-(f.offsetWidth+20),behavior:"smooth"}),setTimeout(T,100),setTimeout(T,350),setTimeout(T,600))}},a=()=>{if(I.current){const o=I.current,f=o.querySelector(".rank-panel-item");f&&(o.scrollBy({left:f.offsetWidth+20,behavior:"smooth"}),setTimeout(T,100),setTimeout(T,350),setTimeout(T,600))}},{ref:w,...S}=le({onSwipedLeft:()=>{$.current=!0,a(),setTimeout(()=>{$.current=!1,q()},350)},onSwipedRight:()=>{$.current=!0,G(),setTimeout(()=>{$.current=!1,q()},350)}});return c.useEffect(()=>{T();const o=I.current;if(!o)return;const f=()=>{T(),$.current||(clearTimeout(o.scrollTimer),o.scrollTimer=setTimeout(()=>{q()},150))},N=()=>{setTimeout(T,50)};return o.addEventListener("scroll",f),o.addEventListener("scrollend",N),window.addEventListener("resize",T),()=>{o.removeEventListener("scroll",f),o.removeEventListener("scrollend",N),window.removeEventListener("resize",T),clearTimeout(o.scrollTimer)}},[T,q]),c.useEffect(()=>{!_&&(h.length>0||L.length>0||g.length>0)&&setTimeout(()=>{T()},100)},[_,h.length,L.length,g.length,T]),c.useEffect(()=>{const o=setTimeout(()=>{const f=I.current;f&&(f.scrollLeft=0,console.log("ç§»åŠ¨ç«¯çŠ¶æ€å˜åŒ–ï¼Œé‡ç½®æ»šåŠ¨ä½ç½®:",{isMobile:R})),T()},200);return()=>clearTimeout(o)},[R,T]),e.jsxs("section",{className:"w-full mt-[50px] relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-bold text-[20px]",style:{color:"var(---Title, #DFEFFF)"},children:_?e.jsx(k,{width:80,height:24,style:{borderRadius:"4px"}}):"æ’è¡Œæ¦œ"}),e.jsxs("div",{className:C("items-center gap-2 flex lg:hidden!"),children:[e.jsx(te,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!W,onClick:G,children:e.jsx(de,{color:"var(--b100)"})}),e.jsx(te,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!A,onClick:a,children:e.jsx(ue,{color:"var(--b100)"})})]})]}),_?e.jsx("div",{className:"w-full flex gap-5 flex-nowrap pt-5",children:Array.from({length:3}).map((o,f)=>e.jsx("div",{className:C("min-w-[calc(100%-2px)] sm:min-w-[calc(50%-10px)] lg:min-w-[calc(33%-10px)]","rank-panel-item"),children:e.jsx(k,{width:"100%",height:965,style:{borderRadius:"12px"}})},f))}):e.jsxs("div",{ref:o=>{w(o),I.current=o},...S,className:C("w-full","flex gap-5 flex-nowrap","overflow-x-auto hide-scrollbar","relative scroll-smooth pt-5 cursor-grab"),children:[e.jsx("div",{className:C("min-w-[calc(100%-2px)] sm:min-w-[calc(50%-10px)] lg:min-w-[calc(33%-10px)]","rank-panel-item"),children:e.jsx(ne,{category:E,items:V})}),e.jsx("div",{className:C("min-w-[calc(100%-2px)] sm:min-w-[calc(50%-10px)] lg:min-w-[calc(33%-10px)]","rank-panel-item"),children:e.jsx(ne,{category:v,items:Q})}),e.jsx("div",{className:C("min-w-[calc(100%-2px)] sm:min-w-[calc(50%-10px)] lg:min-w-[calc(33%-10px)]","rank-panel-item"),children:e.jsx(ne,{category:b,items:J})})]})]})},Ie=()=>e.jsx(Ee,{}),Me=""+new URL("../assets/wallpaper-BkovBSWL.png",import.meta.url).href,_e=""+new URL("../assets/see-more-DgX4wqfs.svg",import.meta.url).href,We=t=>{const{position:s,inViewport:r=!0}=t,x=re(),d=()=>[{id:"loading-1",title:"åŠ è½½ä¸­...",cover:B,tags:["åŠ è½½ä¸­"],platforms:["steam"],value:0},{id:"loading-2",title:"åŠ è½½ä¸­...",cover:pe,tags:["åŠ è½½ä¸­"],platforms:["steam"],value:0},{id:"loading-3",title:"åŠ è½½ä¸­...",cover:Me,tags:["åŠ è½½ä¸­"],platforms:["steam"],value:0},{id:"loading-4",title:"åŠ è½½ä¸­...",cover:B,tags:["åŠ è½½ä¸­"],platforms:["steam"],value:0}],i=a=>{if(!a)return[];let w=[];return Array.isArray(a)?w=a:a&&typeof a=="object"&&(w=a.Data||a.data||a.list||a.items||[]),!Array.isArray(w)||w.length===0?[]:w.map(S=>{var m;const l=S.TopCategoryTags?Object.values(S.TopCategoryTags).filter(j=>typeof j=="string"):["æœªåˆ†ç±»"];return console.log("ğŸ·ï¸ æ¸¸æˆæ ‡ç­¾æ•°æ®:",{title:S.title,tagsCount:l.length,tags:l}),{id:((m=S.card_id)==null?void 0:m.toString())||`game-${Math.random()}`,title:S.title||"æœªçŸ¥æ¸¸æˆ",cover:S.content_img||B,tags:l,platforms:Object.keys(S.filter||[]).filter(j=>j.startsWith("gamePlatform-")),value:S.review_percentage||0}})},{data:n,isLoading:u,isError:E}=Z({queryKey:["topicInfo",s],queryFn:async()=>{const a=await X(s);return console.log("ğŸ”„ è·å–æ•°æ®:",a),a},staleTime:1800*1e3,retry:!1,enabled:r}),h=c.useMemo(()=>r||n?n?i(n):d():[],[n,r]),v=c.useMemo(()=>n?n.Topic:{title:"é¦–é¡µ4åˆ—æ¨è"},[n]);console.log("topic:",v);const L=c.useMemo(()=>["webç«¯é¦–é¡µé¡¶éƒ¨è½®æ’­åŒºåŸŸ","é¦–é¡µè½®æ’­","homepage-carousel"].includes(s)||s.includes("è½®æ’­"),[s]),b=L?999:3;console.log("ğŸ¯ position:",s,"isHomepageCarousel:",L,"maxTags:",b);const g={title:"ç‚¹å‡»æŸ¥çœ‹æ›´å¤šæ¸¸æˆæ¨èå†…å®¹",cover:_e,tags:[],platforms:[],type:"seeMore"},[_,W]=c.useState(!1),[z,A]=c.useState(!1),y=c.useRef(null),I=c.useRef(!1),$=c.useCallback(()=>{if(!y.current||y.current.children.length<2)return 0;const a=y.current,w=a.children[0],S=a.children[1];if(!w||!S)return 0;const l=w.offsetLeft;return S.offsetLeft-l},[]),R=c.useCallback(()=>{const a=y.current;if(!a)return;const w=a.scrollLeft,S=a.scrollWidth,l=a.clientWidth;W(w>0);const m=w+l<S-5;A(m)},[]),V=c.useCallback(()=>{if(!y.current)return;console.log("å¯¹é½æ»šåŠ¨ä½ç½®è§¦å‘.......");const a=y.current,w=$();if(w===0)return;const S=a.scrollLeft,l=Math.round(S/w)*w;a.scrollTo({left:l,behavior:"smooth"}),setTimeout(R,300)},[R,$]),Q=()=>{if(y.current){const a=y.current,w=$();if(w===0)return;const l=window.innerWidth>1023?4:1;a.scrollBy({left:-w*l,behavior:"smooth"}),setTimeout(R,350)}},J=()=>{if(y.current){const a=y.current,w=$();if(w===0)return;const l=window.innerWidth>1023?4:1;a.scrollBy({left:w*l,behavior:"smooth"}),setTimeout(R,350)}},{ref:T,...q}=le({onSwipedLeft:()=>{I.current=!0,J(),setTimeout(()=>{I.current=!1,V()},350)},onSwipedRight:()=>{I.current=!0,Q(),setTimeout(()=>{I.current=!1,V()},350)}});c.useEffect(()=>{R();const a=y.current;if(!a)return;const w=()=>{R(),I.current||(clearTimeout(a.scrollTimer),a.scrollTimer=setTimeout(()=>{},150))};return a.addEventListener("scroll",w),window.addEventListener("resize",R),()=>{a.removeEventListener("scroll",w),window.removeEventListener("resize",R),clearTimeout(a.scrollTimer)}},[R]),c.useEffect(()=>{!u&&h.length>0&&setTimeout(()=>{R()},100)},[u,h.length,R]);const G=a=>{a==="seeMore"?x("/search"):a.startsWith("loading-")?window.location.reload():(console.log("ç‚¹å‡»å¡ç‰‡:",v),v.type===1?x(`/game/${a}`):v.type===3&&x(`/special/${a}`))};return E||n&&h.length===0&&r?null:e.jsxs("section",{className:"w-full mt-[50px]",children:[e.jsxs("div",{className:"flex items-center justify-between pl-1",children:[e.jsx("div",{className:"font-bold text-[20px]",style:{color:"var(---Title, #DFEFFF)"},children:u||!r?e.jsx(k,{width:100,height:24,style:{borderRadius:"4px"}}):v.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!_,onClick:Q,children:e.jsx(de,{color:"var(--b100)"})}),e.jsx(te,{variant:"icon",size:"icon",className:"size-6 bg-b10",disabled:!z,onClick:J,children:e.jsx(ue,{color:"var(--b100)"})})]})]}),e.jsx("div",{ref:a=>{T(a),y.current=a},...q,className:"w-full overflow-x-auto overflow-y-visible scroll-smooth flex gap-5 flex-nowrap pt-5 pl-1/2 hide-scrollbar cursor-grab",children:u||!r?e.jsx(e.Fragment,{children:["skeleton-1","skeleton-2","skeleton-3","skeleton-4","skeleton-5"].map(a=>e.jsx(se,{title:"",cover:"",tags:[],platforms:[],value:0,isLoading:!0,maxTags:b},a))}):e.jsxs(e.Fragment,{children:[h.map((a,w)=>e.jsx(se,{...a,onClick:()=>G(a.id),isLoading:u,style:w===0?{marginLeft:"1px"}:void 0,maxTags:b,enableLazyLoad:!0},a.id)),e.jsx(se,{...g,onClick:()=>G("seeMore"),isLoading:u,maxTags:b,enableLazyLoad:!1},"seeMore")]})})]})},ze=""+new URL("../assets/pubg-mobile-ad-Dze-PKjs.png",import.meta.url).href,ie=""+new URL("../assets/pubg-mobile-CeeaJgGi.png",import.meta.url).href,$e=t=>{const{position:s,inViewport:r=!0}=t,x=re(),d=()=>[{id:"loading-1",cover:ie,title:"åŠ è½½ä¸­..."},{id:"loading-2",cover:ze,title:"åŠ è½½ä¸­..."}],i=b=>{if(!b)return[];let g=[];return Array.isArray(b)?g=b:b&&typeof b=="object"&&(g=b.Data||b.data||b.list||b.items||[]),!Array.isArray(g)||g.length===0?[]:g.slice(0,2).map(_=>{var W;return{id:((W=_.card_id)==null?void 0:W.toString())||`recommend-${Math.random()}`,cover:_.content_img||ie,title:_.title||"æœªçŸ¥æ¸¸æˆ"}})},{data:n,isLoading:u,isError:E}=Z({queryKey:["twoColGameRecommend",s],queryFn:async()=>await X(s),staleTime:3600*1e3,retry:!1,enabled:r}),h=c.useMemo(()=>r||n?n?i(n):d():[],[n,r]),v=c.useMemo(()=>n?n.Topic:{title:"é¦–é¡µåŒåˆ—æ¨è",type:3},[n]),L=b=>{b.startsWith("loading-")?window.location.reload():v.type===1?x(`/game/${b}`):v.type===3&&x(`/special/${b}`)};return E||n&&h.length===0&&r?null:e.jsxs("div",{className:"w-full flex flex-col gap-5 mt-12",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"font-bold font-noto text-xl",style:{color:"var(---Title, #DFEFFF)"},children:u||!r?e.jsx(k,{width:120,height:24,style:{borderRadius:"4px"}}):v.title})}),e.jsx("div",{className:"hidden lg:flex gap-5 justify-between",children:u||!r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 aspect-[569/320]",children:e.jsx(k,{width:"100%",height:"100%",style:{borderRadius:"1rem"}})}),e.jsx("div",{className:"flex-1 aspect-[569/320]",children:e.jsx(k,{width:"100%",height:"100%",style:{borderRadius:"1rem"}})})]}):e.jsxs(e.Fragment,{children:[h[0]&&e.jsx("button",{type:"button",className:"flex-1 aspect-[569/320] cursor-pointer group",onClick:()=>L(h[0].id),"aria-label":`æŸ¥çœ‹ä¸“é¢˜: ${h[0].title||h[0].id}`,children:e.jsx(Y,{className:"w-full h-full",borderRadius:"1rem",children:e.jsx(K,{progressive:!0,src:h[0].cover,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",alt:h[0].title||"game cover"})})}),h[1]&&e.jsx("button",{type:"button",className:"flex-1 aspect-[569/320] cursor-pointer group",onClick:()=>L(h[1].id),"aria-label":`æŸ¥çœ‹ä¸“é¢˜: ${h[1].title||h[1].id}`,children:e.jsx(Y,{className:"w-full h-full",borderRadius:"1rem",children:e.jsx(K,{progressive:!0,src:h[1].cover,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",alt:h[1].title||"game cover"})})})]})}),e.jsx("div",{className:"block lg:hidden",children:u||!r?e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"w-full aspect-[569/320]",children:e.jsx(k,{width:"100%",height:"100%",style:{borderRadius:"1rem"}})}),e.jsx("div",{className:"w-full aspect-[569/320]",children:e.jsx(k,{width:"100%",height:"100%",style:{borderRadius:"1rem"}})})]}):e.jsx("div",{className:"flex flex-col gap-5",children:h.map(b=>e.jsx("button",{type:"button",className:"w-full aspect-[569/320] cursor-pointer group",onClick:()=>L(b.id),"aria-label":`æŸ¥çœ‹ä¸“é¢˜: ${b.title||b.id}`,children:e.jsx(Y,{className:"w-full h-full",borderRadius:"1rem",children:e.jsx(K,{progressive:!0,src:b.cover,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",alt:b.title||"game cover"})})},b.id))})})]})},Ae=()=>[{cover:B,title:"åŠ è½½ä¸­...",desc:"æ­£åœ¨è·å–æœ€æ–°æ¸¸æˆä¿¡æ¯",rating:{value:0,label:"æš‚æ— è¯„åˆ†",percent:!0},tags:["åŠ è½½ä¸­"],mainButton:{text:"ç¨åé‡è¯•",onClick:()=>window.location.reload()},onClick:()=>window.location.reload(),platform:[]}],Pe=({position:t})=>{const{ref:s,isIntersecting:r}=xe({threshold:0,rootMargin:"200px"}),x=c.useRef(!1),[d,i]=c.useState(window.innerWidth<1e3);c.useEffect(()=>{const u=()=>{i(window.innerWidth<1e3)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),r&&!x.current&&(x.current=!0);const n=x.current;return!t.description.includes("2åˆ—")&&!t.description.includes("4åˆ—")?null:d&&!n?e.jsx("div",{ref:s,style:{minHeight:"300px"}}):e.jsx("div",{ref:s,children:t.description.includes("2åˆ—")?e.jsx($e,{position:t.name,inViewport:n}):e.jsx(We,{position:t.name,inViewport:n})})},Fe=()=>{const{ref:t,isIntersecting:s}=xe({threshold:0,rootMargin:"400px"}),r=c.useRef(!1);s&&!r.current&&(r.current=!0);const x=r.current;return e.jsx("div",{ref:t,children:x&&e.jsx(Ie,{})})},Xe=()=>{const t=re(),[s,r]=c.useState(!0),x=Ae(),{positions:d}=ve(),i=c.useMemo(()=>d.filter(v=>!["webç«¯é¦–é¡µé¡¶éƒ¨è½®æ’­åŒºåŸŸ","webç«¯é¦–é¡µåº•éƒ¨çƒ­é—¨æ’è¡Œæ¦œ","webç«¯é¦–é¡µåº•éƒ¨æ–°æ¸¸æ¦œå•æ’è¡Œæ¦œ","webç«¯é¦–é¡µåº•éƒ¨çƒ­é”€æ¦œå•æ’è¡Œæ¦œ"].includes(v.name)).filter(v=>v.description.split("-")[1]==="å¯ç”¨").sort((v,L)=>v.sort-L.sort),[d]),n=v=>{if(!v)return x;let L=[];return Array.isArray(v)?L=v:v&&typeof v=="object"&&(L=v.Data||v.data||v.list||v.items||[]),!Array.isArray(L)||L.length===0?x:L.map(g=>{const _=g.TopCategoryTags?Object.values(g.TopCategoryTags).filter(y=>typeof y=="string"):["æœªåˆ†ç±»"],W=g.content_img||B,z=U(W),A=g.badges&&Array.isArray(g.badges)?g.badges:[];return{cover:z?g.banner_img||B:W,video:z?W:void 0,title:g.title||"æœªçŸ¥æ¸¸æˆ",desc:g.subtitle||"æš‚æ— æè¿°",rating:{value:g.review_percentage!==void 0?g.review_percentage:0,label:(()=>{const y=g.review_percentage;return y>=90?"å¥½è¯„å¦‚æ½®":y>=80?"ç‰¹åˆ«å¥½è¯„":y>=60?"å¤šåŠå¥½è¯„":y>=40?"è¤’è´¬ä¸ä¸€":y>=0?"å·®è¯„å¦‚æ½®":"æš‚æ— è¯„åˆ†"})(),percent:!0},tags:_,platform:Object.keys((g==null?void 0:g.filter)||[]).filter(y=>y.startsWith("gamePlatform-")),badges:A,mainButton:{text:"æ¯æ—¥æ¨è",onClick:()=>{g.card_id&&t(`/game/${g.card_id}`)}},onClick:()=>{g.id&&t(`/game/${g.card_id}`)}}})},{data:u,isLoading:E}=Z({queryKey:["topicInfo","webç«¯é¦–é¡µé¡¶éƒ¨è½®æ’­åŒºåŸŸ"],queryFn:()=>X("webç«¯é¦–é¡µé¡¶éƒ¨è½®æ’­åŒºåŸŸ"),staleTime:1800*1e3,retry:1,refetchOnWindowFocus:!1});c.useEffect(()=>{E||r(!1)},[E]);const h=u?n(u):x;return e.jsxs("div",{style:{paddingBottom:"0px"},children:[e.jsx(Te,{items:h,loading:s},u?"api-data":"fallback-data"),i.map(v=>e.jsx(Pe,{position:v},v.id)),e.jsx(Fe,{}),e.jsx("div",{className:"w-full text-b65 text-center mt-7 text-xs font-medium",children:"å·²ç»åˆ°åº•å•¦ï½"}),e.jsx("style",{children:`
        /* PCç«¯ - é“ºæ»¡é™¤ä¾§è¾¹æ å¤–çš„æ‰€æœ‰åŒºåŸŸ */
        @media (min-width: 1001px) {
          .footer-container {
            margin-left: -20px !important;
            margin-right: -20px !important;
            margin-bottom: 0 !important;
            width: calc(100% + 40px) !important;
            max-width: calc(100% + 40px) !important;
            padding-bottom: 40px !important;
          }
        }
        /* ç§»åŠ¨ç«¯ - é“ºæ»¡æ•´ä¸ªè§†å£ */
        @media (max-width: 1000px) {
          .footer-container {
            margin-left: -20px !important;
            margin-right: -20px !important;
            margin-bottom: 0 !important;
            width: 100vw !important;
            max-width: 100vw !important;
            padding-top: 32px !important;
            padding-bottom: 32px !important;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw !important;
            margin-right: -50vw !important;
          }
        }
        @media (max-width: 768px) {
          .footer-container {
            margin-left: -50vw !important;
            margin-right: -50vw !important;
            margin-bottom: 0 !important;
            width: 100vw !important;
            max-width: 100vw !important;
            padding-top: 32px !important;
            padding-bottom: 32px !important;
            position: relative;
            left: 50%;
            right: 50%;
          }
        }
        @media (max-width: 480px) {
          .footer-container {
            margin-left: -50vw !important;
            margin-right: -50vw !important;
            margin-bottom: 0 !important;
            width: 100vw !important;
            max-width: 100vw !important;
            padding-top: 32px !important;
            padding-bottom: 32px !important;
            position: relative;
            left: 50%;
            right: 50%;
          }
        }
      `}),e.jsx("div",{className:"footer-container w-full mt-[30px] py-8",style:{background:"#090B11",fontFamily:"Noto Sans SC",fontWeight:400,fontStyle:"normal",fontSize:"12px",lineHeight:"16px",letterSpacing:"0%"},children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col items-center gap-[14px]",children:[e.jsx("div",{className:"text-[#bad7f5]/50 text-center",children:"Copyright 2025 All Rights Reserved."}),e.jsx("style",{children:`
            @media (max-width: 1000px) {
              .footer-pc { display: none !important; }
            }
            @media (min-width: 1001px) {
              .footer-mobile { display: none !important; }
            }
          `}),e.jsxs("div",{className:"footer-pc flex flex-col items-center text-[#bad7f5]/50 gap-[14px]",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-5",children:[e.jsxs("span",{className:"flex items-center gap-1.5 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://www.xiaoji.com/style_pc/img/xiaojicom.jpg","_blank"),children:[e.jsx("img",{src:"/yue.png",alt:"å…¬å®‰å¤‡æ¡ˆ",className:"w-5 h-5",style:{width:"20px",height:"20px",opacity:1}}),"ç²¤ç½‘æ–‡[2016]575-1561å·"]}),e.jsx("span",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://beian.miit.gov.cn/#/Integrated/index","_blank"),children:"ç²¤ICPå¤‡10217906å·-14"}),e.jsx("span",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://beian.mps.gov.cn/#/query/webSearch","_blank"),children:"å…¬å®‰å¤‡æ¡ˆå·44010602003042"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-2 text-center",children:[e.jsx("span",{children:"å¹¿å·å°é¸¡å¿«è·‘ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸"}),e.jsx("span",{children:"åœ°å€ï¼šå¹¿å·å¸‚å¤©æ²³åŒºå‘˜æ‘è¥¿è¡—2å·å¤§é™¢19å·1001ã€1003æˆ¿"})]})]}),e.jsxs("div",{className:"footer-mobile flex flex-col items-center gap-3 text-[#bad7f5]/50 text-center px-5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://www.xiaoji.com/style_pc/img/xiaojicom.jpg","_blank"),children:[e.jsx("img",{src:"/yue.png",alt:"å…¬å®‰å¤‡æ¡ˆ",className:"w-5 h-5",style:{width:"20px",height:"20px",opacity:1}}),"ç²¤ç½‘æ–‡[2016]575-1561å·"]}),e.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://beian.miit.gov.cn/#/Integrated/index","_blank"),children:"ç²¤ICPå¤‡10217906å·-14"}),e.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open("https://beian.mps.gov.cn/#/query/webSearch","_blank"),children:"å…¬å®‰å¤‡æ¡ˆå·44010602003042"}),e.jsx("div",{children:"å¹¿å·å°é¸¡å¿«è·‘ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸"}),e.jsx("div",{children:"åœ°å€ï¼šå¹¿å·å¸‚å¤©æ²³åŒºå‘˜æ‘è¥¿è¡—2å·å¤§é™¢19å·1001ã€1003æˆ¿"})]})]})})]})};export{Xe as default};
