import{m as V,r as o,a2 as ne,j as e,M as E,a6 as ee,a8 as oe,a9 as ie,aa as le,a0 as F,Z as re,ab as ce,ac as de,ao as J,ap as K,N as q,O as R,P as G,Q as W,aq as se,ar as L,S as B,as as C,B as I,a as N,at as Q,au as te,a3 as b,av as z,b as X,aw as xe,X as Y,$ as me,D as he,ax as pe,ay as ue,az as be,aA as fe}from"./index-CybXJaB_.js";import{V as Z}from"./index-Bq0sdVVw.js";import{u as ge,v as je,c as Ce}from"./useCurrentZoneCode-DzYT5yxN.js";import{G as ve,Q as Ne}from"./GoogleIcon-CgfYqzML.js";import{S as we}from"./SteamIcon-CWf_uew3.js";import{u as ye}from"./useProvidersQuery-D_r0QIrS.js";import{A as ke}from"./AccountCancellationDialog-CQlF0lNa.js";import{u as Se}from"./useWindowSize-BAZYuwnF.js";import"./useVerifyCodeMutation-yTHkI_Sq.js";import"./checkbox-DaNQsd72.js";import"./Circle_Warning-CDUc_EXn.js";import"./useCountdown-Dr_XpM1o.js";const Ie=()=>{const{currentUser:s}=V(),[a,l]=o.useState(!1),[p,r]=o.useState(!1),[h,i]=o.useState(!1),[m,j]=o.useState("点击复制ID"),w=o.useId(),u=o.useCallback(async()=>{const D=String((s==null?void 0:s.id)||"--");try{ne(D),j("复制成功!"),setTimeout(()=>j("点击复制ID"),2e3)}catch(P){console.error("Failed to copy: ",P),j("复制失败!"),setTimeout(()=>j("点击复制ID"),2e3)}},[s==null?void 0:s.id]);return e.jsxs("div",{className:"relative w-full rounded-2xl",children:[e.jsx("div",{className:"relative p-5 border border-solid bg-b5 border-b10 rounded-2xl z-[1] backdrop-blur-lg",children:e.jsxs("div",{className:"flex items-center gap-5 transition-all duration-300 rounded-full",children:[e.jsxs(E,{open:p,onOpenChange:r,children:[e.jsx(ee,{asChild:!0,children:e.jsxs("button",{type:"button",className:"relative user-change-avatar",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[e.jsx(oe,{}),a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[var(--floating)] bg-opacity-60 rounded-full cursor-pointer text-xs pointer-events-none text-b100",children:"修改"})]})}),e.jsx(ie,{open:p,onOpenChange:r})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-b100 text-base flex items-center gap-2",children:[e.jsx("span",{children:(s==null?void 0:s.nickname)||"游客（未登录）"}),e.jsx("button",{type:"button",className:"user-change-nickname",onClick:()=>i(!0),"data-tooltip-id":w,children:e.jsx(le,{className:"w-4 h-4 text-b65"})}),e.jsx(F,{id:w,content:re.changeNickname})]}),e.jsxs("div",{className:"text-b65 text-sm flex items-center gap-1.5",children:[e.jsxs("span",{children:["用户ID: ",(s==null?void 0:s.id)||"--"]}),e.jsx("button",{type:"button","data-tooltip-id":"copy-user-id-card",onClick:u,className:"bg-transparent border-none p-0 flex items-center",children:e.jsx("img",{src:ce,alt:"copy",className:"w-4 h-4"})}),e.jsx(F,{id:"copy-user-id-card",content:m})]})]})]})}),h&&e.jsx(de,{open:h,onOpenChange:i})]})},Ve=s=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16","aria-label":"HD Icon",role:"img",...s,children:[e.jsx("title",{children:"Phone Icon"}),e.jsx("desc",{children:"Phone 图标"}),e.jsx("path",{d:"M8.00098 11.333C8.46069 11.3331 8.83301 11.7063 8.83301 12.166V12.168C8.83277 12.6275 8.46054 12.9999 8.00098 13H7.99902C7.53946 12.9999 7.16723 12.6275 7.16699 12.168V12.166C7.16699 11.7063 7.53931 11.3331 7.99902 11.333H8.00098Z",fill:"currentColor"}),e.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.333 13.333C13.333 14.4376 12.4376 15.333 11.333 15.333H4.66699C3.56243 15.333 2.66699 14.4376 2.66699 13.333V2.66699C2.66699 1.56243 3.56243 0.666992 4.66699 0.666992H11.333C12.4376 0.666992 13.333 1.56243 13.333 2.66699V13.333ZM12 2.66699C12 2.29881 11.7012 2 11.333 2H4.66699C4.29881 2 4 2.29881 4 2.66699V13.333C4 13.7012 4.29881 14 4.66699 14H11.333C11.7012 14 12 13.7012 12 13.333V2.66699Z",fill:"#BAD7F5"})]}),De=te({checkVerificationCode:z().min(1,{message:"请填写收到的数字验证码，才能继续呢～"}).regex(/^\d+$/,{message:"验证码只能是数字哦，去掉字母/符号/空格试试～"}).length(6,{message:"验证码是6位数字哦～"})}),Pe=te({phoneNumber:z().min(1,{message:"手机号码不能为空"}).regex(/^\d+$/,{message:"检测到非数字字符啦，试试只输入 11 位数字吧！"}).length(11,{message:"请检查手机号码格式，国内手机号应为 11 位数字哦～"}),resetVerificationCode:z().min(1,{message:"请填写收到的数字验证码，才能继续呢～"}).regex(/^\d+$/,{message:"验证码只能是数字哦，去掉字母/符号/空格试试～"}).length(6,{message:"验证码是6位数字哦～"})}),Me=({onClose:s})=>{const[a,l]=o.useState(1),[p,r]=o.useState(!1),[h,i]=o.useState({name:"中国",code:"+86"}),m=ge();o.useEffect(()=>{i({name:(m==null?void 0:m.name)||"中国",code:(m==null?void 0:m.code)||"+86"})},[m]);const j=[m],w=o.useId(),u=V(t=>t.currentUser),D=V(t=>t.refresh),{control:P,handleSubmit:M,watch:_,formState:{errors:H}}=J({resolver:K(De),defaultValues:{checkVerificationCode:""},mode:"onChange"}),{control:O,handleSubmit:A,getValues:n,watch:c,formState:{errors:f}}=J({resolver:K(Pe),defaultValues:{phoneNumber:"",resetVerificationCode:""},mode:"onChange"}),d=_("checkVerificationCode"),v=c("phoneNumber"),k=c("resetVerificationCode"),y=o.useMemo(()=>{if(u!=null&&u.mobile)return u.mobile.split("-")[0]},[u]),S=o.useMemo(()=>{if(u!=null&&u.mobile)return u.mobile.split("-")[1]},[u]),g=async t=>{console.log("handleNextStep called with data:",t);try{const x=await je({code:t.checkVerificationCode});x.code===200?(b.success(x.message||"验证成功！"),l(a+1)):b.error(x.message||"验证失败，请重试")}catch(x){console.error(x),b.error(x.message||"请求失败，请稍后重试")}},$=async t=>{const x=_("checkVerificationCode"),ae={new_mobile:t.phoneNumber,code:t.resetVerificationCode,old_mobile_code:x,zone_code:h.code.replace("+","")};try{const T=await Ce(ae);T.code===200?(b.success("手机号更换成功！"),D(),s()):b.error(T.message||"手机号更换失败，请重试")}catch(T){console.error(T),b.error(T.message||"请求失败，请稍后重试")}};return e.jsxs(q,{autoFocus:!1,className:"w-[400px]",children:[e.jsxs(R,{className:"gap-6",children:[e.jsxs(G,{className:"text-[var(--Title)] text-[20px] font-bold",children:[a===1&&"更换手机号",a===2&&"绑定新手机"]}),e.jsx(W,{className:"text-[var(--text-placeholder)] text-sm",children:a===1&&e.jsxs("div",{className:"text-b100",children:["解绑后将无法使用该手机号登陆次账号！",e.jsx("br",{})," 您当前的手机号：",e.jsxs("span",{className:"text-[var(--Primary-5)] font-bold",children:["+",y," ",se(S)]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-y-6",children:[a===1&&e.jsxs("form",{onSubmit:M(g),className:"flex flex-col gap-y-6",children:[e.jsx(L,{name:"checkVerificationCode",control:P,render:({field:t})=>{var x;return e.jsx(Z,{...t,verificationCode:t.value,onVerificationCodeChange:t.onChange,scene:"check",error:(x=H.checkVerificationCode)==null?void 0:x.message})}}),e.jsxs(B,{className:"flex-row justify-end gap-3",children:[e.jsx(C,{onClick:s,children:"取消"}),e.jsx(I,{type:"submit",variant:"gamesir-primary",className:"w-[88px] h-9",disabled:!d||!!H.checkVerificationCode,children:"下一步"})]})]}),a===2&&e.jsxs("form",{onSubmit:A($),className:"flex flex-col gap-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center relative",children:[e.jsxs(I,{variant:"gamesir",className:N("flex-shrink-0 rounded-[5px] px-3 flex items-center justify-between gap-2","border-r-0 rounded-r-none rounded-l-[8px]","text-base text-b100"),onClick:()=>r(!p),children:[e.jsx("span",{className:"font-normal",children:h.code}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:N("h-4 w-4 transition-transform","text-b100"),children:[e.jsx("title",{children:"下拉箭头"}),e.jsx("polyline",{points:"6 9 12 15 18 9"})]})]}),p&&e.jsx("div",{className:N("w-[352px] p-1 rounded-lg border-none max-h-60 overflow-y-auto","bg-floating-90","shadow-[0px_9px_28px_8px_rgba(0,0,0,0.02),0px_6px_16px_0px_rgba(0,0,0,0.05),0px_3px_6px_-4px_rgba(0,0,0,0.09)]","absolute z-10 top-full left-0","mt-1 p-1"),children:j.map(t=>e.jsxs("button",{type:"button",onClick:()=>{i({name:t.name||"中国",code:t.code||"+86"}),r(!1)},className:N("flex items-center gap-1 w-full px-2.5 py-[9px] rounded-[5px] cursor-pointer !text-base leading-[22px]",h.code===t.code?"bg-[rgba(186,215,245,0.15)] text-[#92d6ff]":"text-[#bad7f5]","hover:bg-[rgba(186,215,245,0.1)] hover:text-[#92d6ff]","focus:bg-[rgba(186,215,245,0.1)] focus:text-[#92d6ff]"),children:[e.jsx("span",{children:t.name}),e.jsx("span",{children:t.code})]},t.code))}),e.jsx(L,{name:"phoneNumber",control:O,render:({field:t})=>e.jsx(Q,{...t,id:w,placeholder:"输入新手机号",variant:"gamesir",className:N("flex-1 mt-0","rounded-l-none")})})]}),f.phoneNumber&&e.jsx("p",{className:"absolute left-21 text-[var(--Danger-5)] text-[10px] mt-1/2",children:f.phoneNumber.message})]}),e.jsx("div",{children:e.jsx(L,{name:"resetVerificationCode",control:O,render:({field:t})=>{var x;return e.jsx(Z,{...t,verificationCode:t.value,onVerificationCodeChange:t.onChange,scene:"change_mobile",currentMobile:n("phoneNumber"),currentZoneCode:h.code.replace("+",""),disabled:!v,error:(x=f.resetVerificationCode)==null?void 0:x.message})}})}),e.jsxs(B,{className:"flex-row justify-end gap-3",children:[e.jsx(C,{onClick:s,children:"取消"}),e.jsx(I,{type:"submit",variant:"gamesir-primary",className:"w-[88px] h-9",disabled:!v||!!f.phoneNumber||!k||!!f.resetVerificationCode,children:"确定"})]})]})]})]})},Te=()=>{const[s,a]=o.useState(!1),l=V(h=>h.currentUser),p=o.useMemo(()=>{if(l!=null&&l.mobile)return l.mobile.split("-")[0]},[l]),r=o.useMemo(()=>{if(l!=null&&l.mobile)return l.mobile.split("-")[1]},[l]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"text-[var(--Title)] text-[20px] font-bold leading-7",children:"账号与安全"}),e.jsx("div",{className:"mt-5 w-full bg-b5 backdrop-blur-lg rounded-2xl border border-solid border-b20",children:e.jsxs("div",{className:"p-5 flex items-center justify-between w-full h-[90px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"text-2xl"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-b100",children:"手机号"}),e.jsx("div",{className:"mt-1.5 text-b65",children:`+${p} ${se(r)}`})]})]}),e.jsxs(E,{open:s,onOpenChange:a,children:[e.jsx(ee,{asChild:!0,children:e.jsx(C,{children:"更换手机"})}),s&&e.jsx(Me,{onClose:()=>a(!1)})]})]})})]})})},_e=({isOpen:s,onClose:a,platformName:l,onConfirm:p})=>{const[r,h]=o.useState(""),i=()=>{console.log("验证码:",r),p(r)};return e.jsx(E,{open:s,onOpenChange:a,children:e.jsxs(q,{showCloseButton:!1,className:"w-[400px] px-10 pt-10 pb-7.5",style:{boxShadow:"0px 0px 10px 0px rgba(0,0,0,0.25)"},children:[e.jsxs(R,{className:"text-left",children:[e.jsx(G,{className:"mb-2 mx-auto text-xl",children:`解除${l}绑定`}),e.jsxs(W,{className:"font-normal text-b100 text-sm text-center leading-[20px]",children:["解绑后将无法使用该",l,"登录此账号，请谨慎操作！"]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(Z,{verificationCode:r,onVerificationCodeChange:h,scene:"unbundling"})}),e.jsxs(B,{className:"w-full flex !justify-center gap-3",children:[e.jsx(C,{onClick:i,disabled:!r||r.length===0,className:"flex-1/3",children:"确认解绑"}),e.jsx(I,{type:"button",variant:"gamesir-primary",onClick:a,className:"flex-2/3 !text-[#131a29] px-5 py-[9px]",children:"暂不解绑"})]})]})})};function He({open:s,onClose:a}){return e.jsx(E,{open:s,onOpenChange:a,children:e.jsxs(q,{className:"p-[24px]",style:{maxWidth:"400px",height:"auto"},children:[e.jsx(R,{className:"flex flex-row items-start justify-between w-full",children:e.jsx(G,{children:"绑定邮箱"})}),e.jsx(W,{children:"输入你要绑定的新邮箱，绑定后将自动解绑旧邮箱"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(Q,{id:"email",placeholder:"请输入即将绑定的邮箱地址",variant:"gamesir"}),e.jsxs("div",{className:"flex flex-row gap-3 items-center w-full",children:[e.jsx(Q,{id:"code",placeholder:"请输入邮件里的验证码",variant:"gamesir"}),e.jsx(I,{variant:"gamesir",children:"获取验证码"})]})]}),e.jsxs(B,{className:"flex flex-row gap-3 items-end justify-end w-full mt-6",children:[e.jsx(I,{variant:"gamesir",onClick:a,children:"取消"}),e.jsx(I,{variant:"gamesir-primary",children:"绑定"})]})]})})}const U={wechatweb:{icon:xe,label:"微信",path:"wechat",unbindHint:"通过绑定微信登录进行快捷登录"},qq:{icon:Ne,label:"QQ",path:"qq",unbindHint:"通过绑定QQ登录方式进行快捷登录"},google:{icon:ve,label:"Google",path:"google",unbindHint:"绑定Google后，可以通过Google授权登陆"},steam:{icon:we,label:"Steam",path:"steam",unbindHint:"登录后，可以同步和管理你的 Steam 游戏库",bindButtonText:"添加账号",unbindButtonText:"解除登录",boundText:"已登录"}},Oe=()=>{const[s,a]=o.useState(!1),[l,p]=o.useState(!1),[r,h]=o.useState(""),i=V(n=>n.currentUser),m=o.useId(),j=X(),w=n=>{h(n),a(!0)},{refreshThirdPartyBindings:u}=V(),D=async n=>{var c,f;try{const d=(f=(c=i==null?void 0:i.thirdParty)==null?void 0:c.find(v=>v.provider===r.toLowerCase()))==null?void 0:f.bind_id;if(d){const v=await pe({provider:r.toLowerCase(),code:n,bind_id:d});v.code===200?(b.success(`${r} 已解除绑定`),u()):b.error(`解除绑定失败: ${v.message}`)}else b.error("未找到该绑定信息");a(!1)}catch(d){console.error("解除绑定失败:",d.message),b.error(`解除绑定失败: ${d.message}`)}},P=async n=>{try{const c=await ue(n);c.code===200?(b.success("设置主账号成功"),u()):b.error(`设置主账号失败: ${c.message}`)}catch(c){console.error("设置主账号失败:",c.message),b.error(`设置主账号失败: ${c.message}`)}},{data:M}=ye("cn"),_=o.useMemo(()=>M?M.filter(n=>n.provider!=="steam"):[],[M]),H=n=>i!=null&&i.thirdParty&&i.thirdParty.find(c=>c.provider===n&&c.is_bound)||null,O=n=>n.map((c,f)=>{const d=U[c.provider],v=d.icon,k=H(c.provider),y=(k==null?void 0:k.is_bound)||!1,S=d.unbindHint||`通过绑定${d.label}登录进行快捷登录`;return e.jsxs("div",{className:`p-5 flex items-center justify-between w-full h-[90px] ${f!==0?"border-t border-solid border-b20":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(v,{className:"text-2xl text-b100 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center text-b100",children:e.jsx("div",{className:"w-13",children:d.label})}),e.jsx("div",{className:"mt-1.5 text-b65 truncate max-w-[500px]","data-tooltip-id":m,"data-tooltip-content":y?void 0:S,children:y?d.boundText||"已绑定":S})]})]}),y?e.jsx(C,{onClick:()=>w(d.label),children:d.unbindButtonText||"解除绑定"}):e.jsx(C,{onClick:()=>Y(d.path),children:d.bindButtonText||"立即绑定"})]},c.provider)}),A=()=>{var y,S;const n=U.steam,c=n.icon,f=n.unbindHint,d=((y=i==null?void 0:i.thirdParty)==null?void 0:y.filter(g=>g.provider==="steam"&&g.is_bound))||[],k=((S=i==null?void 0:i.steamInfo)==null?void 0:S.Status)===2;return e.jsxs(e.Fragment,{children:[d.map((g,$)=>{const t=`已登录：${g.nickname||"Steam用户"}`,x=g.is_main===1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-5 flex items-center justify-between w-full h-[90px] ${$!==0?"border-t border-solid border-b20":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(c,{className:"text-2xl text-b100 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center text-b100",children:e.jsx("div",{className:"w-13",children:n.label})}),e.jsx("div",{className:"mt-1.5 text-b65 truncate max-w-[500px]","data-tooltip-id":m,"data-tooltip-content":t,children:t})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{selected:x,onClick:()=>!x&&P(g.bind_id),children:x?"当前主账户":"设为主账号"}),e.jsx(C,{onClick:()=>w(n.label),children:n.unbindButtonText})]})]},`steam-${g.bind_id}`),x&&k&&e.jsxs("div",{className:"flex items-center gap-2 px-5 py-2 text-[#F9D802] text-xs",style:{backgroundColor:"rgba(249, 216, 2, 0.1)"},children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{children:"游戏资料未公开，查看公开教程"}),e.jsxs("button",{type:"button",onClick:()=>{window.open("https://help.steampowered.com/zh-cn/faqs/view/588C-C67D-0251-C276","_blank")},className:"flex items-center text-[#1796E2] hover:text-[#1796E2]/80 transition-colors",children:[e.jsx("span",{className:"underline",children:"前往"}),e.jsx(he,{color:"#1796e2"})]})]},`steam-privacy-notice-${g.bind_id}`)]})}),e.jsxs("div",{className:`p-5 flex items-center justify-between w-full h-[90px] ${d.length>0?"border-t border-solid border-b20":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(c,{className:"text-2xl text-b100 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center text-b100",children:e.jsx("div",{className:"w-13",children:n.label})}),e.jsx("div",{className:"mt-1.5 text-b65 truncate max-w-[500px]","data-tooltip-id":m,"data-tooltip-content":f,children:f})]})]}),e.jsx(C,{onClick:()=>{if(d.length===0){const g=window.location.hash.slice(1);localStorage.setItem("redirectAfterAuth",g),Y("steam")}else j("/user/manage-steam")},children:n.bindButtonText})]},"steam-add")]})};return e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"text-[var(--Title)] text-[20px] font-bold leading-7",children:"管理第三方账号"}),e.jsx("div",{className:"mt-5 w-full bg-b5 backdrop-blur-lg rounded-2xl border border-solid border-b20",children:O(_)}),e.jsx("div",{className:"text-[var(--Title)] text-[20px] font-bold leading-7 mt-10",children:"Steam账号管理"}),e.jsx("div",{className:"mt-5 w-full bg-b5 backdrop-blur-lg rounded-2xl border border-solid border-b20",children:A()}),e.jsx(_e,{isOpen:s,onClose:()=>a(!1),platformName:r,onConfirm:n=>D(n)}),e.jsx(He,{open:l,onClose:()=>p(!1)}),e.jsx(F,{id:m,className:"max-w-[400px] z-[9999]"})]})},Be=s=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Delete Icon",role:"img",...s,children:[e.jsx("title",{children:"Delete Icon"}),e.jsx("desc",{children:"Delete 图标"}),e.jsx("path",{d:"M6 18.6096C6 19.1619 6.44772 19.6096 7 19.6096H16C16.5523 19.6096 17 20.0573 17 20.6096C17 21.1619 16.5523 21.6096 16 21.6096H7C5.3432 21.6096 4 20.2665 4 18.6096V6.60962C4 4.95277 5.3432 3.60962 7 3.60962H16C16.5523 3.60962 17 4.05733 17 4.60962C17 5.1619 16.5523 5.60962 16 5.60962H7C6.44771 5.60962 6 6.05734 6 6.60962V18.6096Z",fill:"currentColor"}),e.jsx("path",{d:"M15.293 8.90259C15.6835 8.51207 16.3165 8.51207 16.707 8.90259L19.707 11.9026C20.0975 12.2931 20.0975 12.9261 19.707 13.3167L16.707 16.3167C16.3165 16.7072 15.6835 16.7072 15.293 16.3167C14.9024 15.9261 14.9024 15.2931 15.293 14.9026L16.5859 13.6096H9C8.44771 13.6096 8 13.1619 8 12.6096C8 12.0573 8.44772 11.6096 9 11.6096H16.5859L15.293 10.3167C14.9025 9.92612 14.9024 9.29311 15.293 8.90259Z",fill:"currentColor"})]}),Ee=s=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-label":"Exit Icon",role:"img",...s,children:[e.jsx("title",{children:"Exit Icon"}),e.jsx("desc",{children:"Exit 图标"}),e.jsx("path",{d:"M17.6578 5.54224C18.0484 5.1518 18.6814 5.15264 19.0718 5.54321C20.47 6.94186 21.4225 8.72362 21.8081 10.6633C22.1937 12.6029 21.9958 14.6137 21.2388 16.4407C20.4818 18.2676 19.1995 19.8294 17.5552 20.928C15.9109 22.0264 13.9779 22.6125 12.0005 22.6125C10.023 22.6125 8.08921 22.0265 6.44486 20.928C4.80052 19.8294 3.51826 18.2677 2.76127 16.4407C2.00434 14.6137 1.80644 12.6029 2.19193 10.6633C2.57752 8.72363 3.53009 6.94186 4.92826 5.54321C5.31871 5.15266 5.95174 5.15182 6.34232 5.54224C6.7328 5.93262 6.73253 6.5657 6.34232 6.9563C5.22377 8.07523 4.46232 9.5012 4.15385 11.053C3.84538 12.6048 4.00335 14.2134 4.60893 15.675C5.21451 17.1367 6.2407 18.3859 7.55619 19.2649C8.87164 20.1436 10.4186 20.6125 12.0005 20.6125C13.5825 20.6125 15.1295 20.1437 16.4449 19.2649C17.7602 18.3859 18.7856 17.1366 19.3912 15.675C19.9967 14.2134 20.1546 12.6048 19.8462 11.053C19.5377 9.50121 18.7762 8.07522 17.6578 6.9563C17.2676 6.56569 17.2673 5.9326 17.6578 5.54224Z",fill:"currentColor"}),e.jsx("path",{d:"M12.0005 2.60962C12.5526 2.60988 13.0005 3.05749 13.0005 3.60962V12.6096C13.0005 13.1618 12.5526 13.6094 12.0005 13.6096C11.4482 13.6096 11.0005 13.1619 11.0005 12.6096V3.60962C11.0005 3.05733 11.4482 2.60962 12.0005 2.60962Z",fill:"currentColor"})]}),Ae=()=>{const s=X(),{logout:a}=V(be(j=>({logout:j.logout}))),{openLogoutDialog:l,closeLogoutDialog:p,setLogoutCallbacks:r}=fe(),[h,i]=o.useState(!1),m=o.useCallback(()=>{r(()=>{console.log("执行退出登录操作..."),a(),p(),b.success("退出成功！"),s("/login")},()=>{console.log("取消退出登录操作。"),p()}),l()},[l,p,r,a,s]);return e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"text-[var(--Title)] text-[20px] font-bold leading-7",children:"注销/退出"}),e.jsx("div",{className:N("mt-5 w-full","bg-b5 backdrop-blur-lg","rounded-2xl","border border-solid border-b20"),children:e.jsxs("div",{className:N("p-5 flex items-center justify-between","w-full h-[90px]"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"text-2xl text-[var(--b100)]"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-b100",children:"账号退出"}),e.jsx("div",{className:"mt-1.5 text-b65",children:"退出后，您的游戏数据都将被保留"})]})]}),e.jsx(C,{onClick:m,children:"退出账号"})]})}),e.jsx("div",{className:N("w-full bg-b5 backdrop-blur-lg","mt-5 mb-5","rounded-2xl","border border-solid border-b20"),children:e.jsxs("div",{className:N("p-5 flex items-center justify-between","w-full h-[90px]"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"text-2xl text-b100"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-b100",children:"账号注销"}),e.jsx("div",{className:"mt-1.5 text-b65",children:"注销成功后，您账号的用户数据将被永久清除，所有权益将失效"})]})]}),e.jsx(C,{onClick:()=>i(!0),children:"注销账号"})]})}),h&&e.jsx(ke,{open:h,onOpenChange:i})]})},Ke=()=>{const{width:s}=Se(),a=X();return o.useEffect(()=>{s&&s<1024&&a("/mobile-user")},[s,a]),e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("div",{className:"w-[900px] flex flex-col py-8 z-10",children:[e.jsx("h1",{className:"text-[var(--Title)] text-[32px] font-black mb-5 leading-[46px]",children:"个人中心"}),e.jsx(Ie,{}),e.jsx(Te,{}),e.jsx(Oe,{}),e.jsx(Ae,{})]})})};export{Ke as default};
